{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"tv-scraper Documentation","text":"<p>tv-scraper is a Python library for scraping trading data, ideas, news, and real-time market information from TradingView.com. It provides a clean, modular API with standardized response formats and built-in data export.</p>"},{"location":"#installation","title":"Installation","text":"<pre><code>pip install tv-scraper\n</code></pre> <p>Or with uv:</p> <pre><code>uv add tv-scraper\n</code></pre>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code>from tv_scraper import Technicals, Ideas, Screener\n\n# Get technical indicators\ntech = Technicals()\nresult = tech.get_technicals(exchange=\"NASDAQ\", symbol=\"AAPL\")\nprint(result[\"data\"])\n\n# Fetch trading ideas\nideas = Ideas()\nresult = ideas.get_ideas(exchange=\"CRYPTO\", symbol=\"BTCUSD\")\nprint(result[\"data\"])\n\n# Screen stocks\nscreener = Screener()\nresult = screener.get_screener(market=\"america\")\nprint(result[\"data\"])\n</code></pre> <p>All methods return a standardized response envelope:</p> <pre><code>{\n    \"status\": \"success\",   # or \"failed\"\n    \"data\": { ... },       # the payload\n    \"metadata\": { ... },   # symbol, exchange, etc.\n    \"error\": None          # error message if status == \"failed\"\n}\n</code></pre>"},{"location":"#available-modules","title":"Available Modules","text":""},{"location":"#market-data","title":"Market Data","text":"Module Description Technicals Technical indicators via TradingView scanner API Overview Symbol overview data (profile, stats, financials) Fundamentals Fundamental financial graphs and metrics Markets Market listings and top stocks"},{"location":"#social","title":"Social","text":"Module Description Ideas Trading ideas from the TradingView community Minds Minds community discussions News News headlines and content for symbols"},{"location":"#screening","title":"Screening","text":"Module Description Screener Stock/crypto/forex screener with custom filters Market Movers Gainers, losers, and most active symbols Symbol Markets Find all exchanges where a symbol is traded"},{"location":"#events","title":"Events","text":"Module Description Calendar Earnings and dividend calendar events"},{"location":"#streaming","title":"Streaming","text":"Module Description Streamer Real-time OHLCV + indicator streaming RealTimeData Simple OHLCV and watchlist streaming"},{"location":"#architecture","title":"Architecture","text":"<p>See the Architecture Guide for details on the modular design, base classes, and data flow.</p>"},{"location":"#migration-from-tradingview_scraper","title":"Migration from tradingview_scraper","text":"<p>If you're upgrading from the legacy <code>tradingview_scraper</code> package, see the Migration Guide.</p>"},{"location":"#api-conventions","title":"API Conventions","text":"<p>See API Conventions for details on response formats, error handling, and export options.</p>"},{"location":"api-conventions/","title":"API Conventions","text":"<p>This document defines the standards for the <code>tv-scraper</code> public API.</p>"},{"location":"api-conventions/#input-parameters","title":"Input Parameters","text":""},{"location":"api-conventions/#symbol-identification","title":"Symbol Identification","text":"<p>All scrapers accept <code>exchange</code> and <code>symbol</code> as separate string parameters: <pre><code>scraper.get_technicals(exchange=\"NASDAQ\", symbol=\"AAPL\")\n</code></pre></p>"},{"location":"api-conventions/#field-selection","title":"Field Selection","text":"<p>Optional field selection uses a list of strings: <pre><code>scraper.get_technicals(exchange=\"NASDAQ\", symbol=\"AAPL\", fields=[\"close\", \"volume\", \"change\"])\n</code></pre></p>"},{"location":"api-conventions/#sorting","title":"Sorting","text":"<p>Sorting follows a consistent pattern: <pre><code>scraper.get_technicals(sort_by=\"volume\", sort_order=\"desc\")  # or \"asc\"\n</code></pre> <code>sort_order</code> defaults to <code>\"desc\"</code> when not specified.</p>"},{"location":"api-conventions/#naming-convention","title":"Naming Convention","text":"<p>All parameters use snake_case: <pre><code># Correct\nscraper.get_technicals(export_result=True, export_type=\"json\", sort_by=\"change\")\n\n# Wrong \u2014 never use camelCase\nscraper.get_technicals(exportResult=True)\n</code></pre></p>"},{"location":"api-conventions/#output-format","title":"Output Format","text":""},{"location":"api-conventions/#response-envelope","title":"Response Envelope","text":"<p>Every public scraper method returns a standardized response dict:</p> <pre><code>{\n    \"status\": \"success\",        # or \"failed\"\n    \"data\": [...],              # payload (list, dict, or None on failure)\n    \"metadata\": {               # contextual info\n        \"symbol\": \"AAPL\",\n        \"exchange\": \"NASDAQ\",\n        \"total\": 25\n    },\n    \"error\": None               # error message string, or None on success\n}\n</code></pre>"},{"location":"api-conventions/#success-response","title":"Success Response","text":"<ul> <li><code>status</code> is always <code>\"success\"</code></li> <li><code>data</code> contains the requested payload</li> <li><code>error</code> is always <code>None</code></li> <li><code>metadata</code> contains relevant context (symbol, exchange, counts, etc.)</li> </ul>"},{"location":"api-conventions/#error-response","title":"Error Response","text":"<ul> <li><code>status</code> is always <code>\"failed\"</code></li> <li><code>data</code> is always <code>None</code></li> <li><code>error</code> contains a descriptive error message</li> <li><code>metadata</code> may contain partial context</li> </ul>"},{"location":"api-conventions/#error-handling","title":"Error Handling","text":""},{"location":"api-conventions/#scraper-methods-never-raise","title":"Scraper Methods Never Raise","text":"<p>Public scraper methods never raise exceptions. All errors are caught internally and returned as error responses:</p> <pre><code>result = scraper.get_technicals(exchange=\"INVALID\", symbol=\"AAPL\")\n# Returns: {\"status\": \"failed\", \"data\": None, \"error\": \"Invalid exchange: ...\", \"metadata\": {}}\n</code></pre>"},{"location":"api-conventions/#validators-raise-internally","title":"Validators Raise Internally","text":"<p>The <code>DataValidator</code> raises <code>ValidationError</code> for invalid input. <code>BaseScraper</code> subclasses catch these and convert them to error responses \u2014 exceptions never escape to user code.</p>"},{"location":"api-conventions/#type-hints","title":"Type Hints","text":"<p>All functions and methods have 100% type hints: <pre><code>def get_technicals(\n    self,\n    exchange: str,\n    symbol: str,\n    fields: Optional[List[str]] = None,\n    sort_by: Optional[str] = None,\n    sort_order: str = \"desc\",\n) -&gt; Dict[str, Any]:\n    ...\n</code></pre></p>"},{"location":"api-conventions/#docstrings","title":"Docstrings","text":"<p>All public classes and methods use Google-style docstrings: <pre><code>def validate_exchange(self, exchange: str) -&gt; bool:\n    \"\"\"Validate exchange exists.\n\n    Args:\n        exchange: Exchange name to validate.\n\n    Returns:\n        True if exchange is valid.\n\n    Raises:\n        ValidationError: If exchange is not found.\n    \"\"\"\n</code></pre></p>"},{"location":"architecture/","title":"Architecture Overview","text":""},{"location":"architecture/#package-structure","title":"Package Structure","text":"<p>The <code>tv-scraper</code> package is organized into a clean, modular architecture:</p> <pre><code>tv_scraper/\n\u251c\u2500\u2500 __init__.py              # Package root, exports __version__\n\u251c\u2500\u2500 core/                    # Core infrastructure\n\u2502   \u251c\u2500\u2500 base.py              # BaseScraper \u2014 parent class for all scrapers\n\u2502   \u251c\u2500\u2500 constants.py         # Shared constants (URLs, defaults, status codes)\n\u2502   \u251c\u2500\u2500 exceptions.py        # Exception hierarchy\n\u2502   \u251c\u2500\u2500 types.py             # TypedDict definitions for response formats\n\u2502   \u2514\u2500\u2500 validators.py        # DataValidator singleton for input validation\n\u251c\u2500\u2500 utils/                   # Shared utilities\n\u2502   \u251c\u2500\u2500 helpers.py           # User-agent generation, symbol formatting\n\u2502   \u251c\u2500\u2500 http.py              # HTTP request wrapper with error handling\n\u2502   \u2514\u2500\u2500 io.py                # File export (JSON/CSV) utilities\n\u251c\u2500\u2500 data/                    # Static data files (JSON)\n\u2502   \u251c\u2500\u2500 exchanges.json       # Valid exchange names\n\u2502   \u251c\u2500\u2500 indicators.json      # Valid indicator names\n\u2502   \u251c\u2500\u2500 timeframes.json      # Timeframe key \u2192 API value mappings\n\u2502   \u251c\u2500\u2500 languages.json       # Language name \u2192 code mappings\n\u2502   \u251c\u2500\u2500 areas.json           # Geographic area \u2192 code mappings\n\u2502   \u2514\u2500\u2500 news_providers.json  # Valid news provider slugs\n\u251c\u2500\u2500 scrapers/                # HTTP-based scrapers\n\u2502   \u251c\u2500\u2500 market_data/         # Indicators, overview, fundamental graphs\n\u2502   \u251c\u2500\u2500 social/              # Ideas, minds, news\n\u2502   \u251c\u2500\u2500 screening/           # Screener, market movers, markets\n\u2502   \u2514\u2500\u2500 events/              # Calendar (earnings, dividends)\n\u2514\u2500\u2500 streaming/               # WebSocket-based real-time data\n</code></pre>"},{"location":"architecture/#module-categories","title":"Module Categories","text":""},{"location":"architecture/#market-data-scrapersmarket_data","title":"Market Data (<code>scrapers/market_data/</code>)","text":"<p>Scrapers for technical indicators, symbol overviews, and fundamental financial data. These use the TradingView Scanner API and symbol page scraping.</p>"},{"location":"architecture/#social-scraperssocial","title":"Social (<code>scrapers/social/</code>)","text":"<p>Scrapers for community-generated content: trading ideas, Minds discussions, and news articles.</p>"},{"location":"architecture/#screening-scrapersscreening","title":"Screening (<code>scrapers/screening/</code>)","text":"<p>Screener tools for filtering and ranking symbols: stock/crypto/forex screeners, market movers (gainers/losers), and market listings.</p>"},{"location":"architecture/#events-scrapersevents","title":"Events (<code>scrapers/events/</code>)","text":"<p>Calendar-based scrapers for corporate events like earnings and dividend dates.</p>"},{"location":"architecture/#streaming-streaming","title":"Streaming (<code>streaming/</code>)","text":"<p>WebSocket-based real-time data streaming for OHLCV candles, indicators, and watchlist data.</p>"},{"location":"architecture/#core-concepts","title":"Core Concepts","text":""},{"location":"architecture/#basescraper","title":"BaseScraper","text":"<p>All HTTP scrapers inherit from <code>BaseScraper</code>, which provides: - Standardized response envelope via <code>_success_response()</code> and <code>_error_response()</code> - HTTP request handling via <code>_make_request()</code> with automatic User-Agent and timeout - Data export via <code>_export()</code> supporting JSON and CSV formats - Scanner row mapping via <code>_map_scanner_rows()</code> for TradingView scanner API responses - Input validation via the shared <code>DataValidator</code> instance</p>"},{"location":"architecture/#datavalidator","title":"DataValidator","text":"<p>A singleton that loads all validation data (exchanges, indicators, timeframes, etc.) from JSON files once. All validation methods raise <code>ValidationError</code> with helpful suggestions for invalid input.</p>"},{"location":"architecture/#response-envelope","title":"Response Envelope","text":"<p>Every scraper method returns a standardized dict: <pre><code>{\n    \"status\": \"success\" | \"failed\",\n    \"data\": &lt;payload or None&gt;,\n    \"metadata\": {\"symbol\": \"...\", \"exchange\": \"...\", ...},\n    \"error\": &lt;error message or None&gt;\n}\n</code></pre></p>"},{"location":"architecture/#export-pattern","title":"Export Pattern","text":"<p>All scrapers accept <code>export_result</code> and <code>export_type</code> constructor parameters. When enabled, results are automatically saved to the <code>export/</code> directory with timestamped filenames.</p>"},{"location":"contributing/","title":"Contributing to tv-scraper","text":"<p>We welcome contributions from the community! This guide will help you get started with contributing to the tv-scraper project.</p>"},{"location":"contributing/#ways-to-contribute","title":"\ud83d\ude80 Ways to Contribute","text":""},{"location":"contributing/#code-contributions","title":"Code Contributions","text":"<ul> <li>Bug Fixes: Fix issues reported in the issue tracker</li> <li>New Features: Implement new scraping modules or enhance existing ones</li> <li>Performance Improvements: Optimize code for better performance</li> <li>Documentation: Improve documentation, add examples, or fix typos</li> </ul>"},{"location":"contributing/#non-code-contributions","title":"Non-Code Contributions","text":"<ul> <li>Bug Reports: Report bugs with detailed information</li> <li>Feature Requests: Suggest new features or improvements</li> <li>Documentation: Help improve or translate documentation</li> <li>Testing: Test the library and report issues</li> </ul>"},{"location":"contributing/#development-setup","title":"\ud83d\udee0\ufe0f Development Setup","text":""},{"location":"contributing/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.11 or higher</li> <li>Git</li> <li>uv (for dependency management)</li> </ul>"},{"location":"contributing/#local-development","title":"Local Development","text":"<ol> <li> <p>Fork and Clone the Repository <pre><code>git clone https://github.com/YOUR_USERNAME/tv-scraper.git\ncd tv-scraper\n</code></pre></p> </li> <li> <p>Set up Development Environment <pre><code># Install all dependencies (main + dev tools)\nuv sync --extra dev\n\n# Install in development mode\nuv pip install -e .\n</code></pre></p> </li> <li> <p>Run Tests <pre><code># Run all tests\nuv run pytest\n\n# Run specific test file\nuv run pytest tests/test_indicators.py\n</code></pre></p> </li> <li> <p>Build Documentation <pre><code># Serve docs locally for development\nmkdocs serve\n\n# Build docs for production\nmkdocs build\n</code></pre></p> </li> </ol>"},{"location":"contributing/#testing","title":"\ud83e\uddea Testing","text":""},{"location":"contributing/#writing-tests","title":"Writing Tests","text":"<ul> <li>Write tests for all new features</li> <li>Include both positive and negative test cases</li> <li>Use descriptive test names</li> <li>Mock external API calls when possible</li> </ul>"},{"location":"contributing/#test-structure","title":"Test Structure","text":"<pre><code>import pytest\nfrom tv_scraper import Technicals\n\nclass TestTechnicals:\n    def test_scrape_valid_indicators(self):\n        \"\"\"Test scraping with valid indicators.\"\"\"\n        scraper = Technicals()\n        result = scraper.get_technicals(\n            exchange=\"BINANCE\",\n            symbol=\"BTCUSD\",\n            technical_indicators=[\"RSI\"]\n        )\n        assert result[\"status\"] == \"success\"\n        assert \"RSI\" in result[\"data\"]\n\n    def test_scrape_invalid_exchange(self):\n        \"\"\"Test error handling for invalid exchange.\"\"\"\n        scraper = Technicals()\n        result = scraper.get_technicals(\n            exchange=\"INVALID\",\n            symbol=\"BTCUSD\",\n            technical_indicators=[\"RSI\"]\n        )\n        assert result[\"status\"] == \"failed\"\n</code></pre>"},{"location":"contributing/#pull-request-process","title":"\ud83d\udccb Pull Request Process","text":"<ol> <li> <p>Create a Feature Branch <pre><code>git checkout -b feature/your-feature-name\n</code></pre></p> </li> <li> <p>Make Your Changes</p> </li> <li>Write clean, well-documented code</li> <li>Add tests for new functionality</li> <li> <p>Update documentation if needed</p> </li> <li> <p>Run Quality Checks <pre><code># Run tests\npython -m pytest\n\n# Build documentation\nmkdocs build\n</code></pre></p> </li> <li> <p>Commit Your Changes <pre><code>git add .\ngit commit -m \"Add your descriptive commit message\"\n</code></pre></p> </li> <li> <p>Push and Create Pull Request <pre><code>git push origin feature/your-feature-name\n</code></pre>    Then create a pull request on GitHub.</p> </li> </ol>"},{"location":"contributing/#pull-request-guidelines","title":"Pull Request Guidelines","text":"<ul> <li>Provide a clear description of the changes</li> <li>Reference any related issues</li> <li>Include screenshots for UI changes</li> <li>Ensure all tests pass</li> <li>Update documentation if needed</li> </ul>"},{"location":"contributing/#reporting-bugs","title":"\ud83d\udc1b Reporting Bugs","text":""},{"location":"contributing/#bug-report-template","title":"Bug Report Template","text":"<p>When reporting bugs, please include:</p> <ol> <li>Description: Clear description of the bug</li> <li>Steps to Reproduce:    <pre><code># Provide a minimal code example that reproduces the issue\n</code></pre></li> <li>Expected Behavior: What should happen</li> <li>Actual Behavior: What actually happens</li> <li>Environment:</li> <li>Python version: 3.11</li> <li>OS: Windows 11</li> <li>Library version: 1.1.0</li> </ol>"},{"location":"contributing/#example-bug-report","title":"Example Bug Report","text":"<pre><code>**Bug: Technicals scraper fails with timeout**\n\n**Steps to reproduce:**\n```python\nfrom tv_scraper import Technicals\n\nscraper = Technicals()\nresult = scraper.get_technicals(\n    exchange=\"BINANCE\",\n    symbol=\"BTCUSD\",\n    technical_indicators=[\"RSI\", \"MACD\"]\n)\n</code></pre> <p>Expected: Should return indicator data Actual: Times out with error Environment: Python 3.11, Windows 11 ```</p>"},{"location":"contributing/#feature-requests","title":"\ud83d\udca1 Feature Requests","text":""},{"location":"contributing/#feature-request-template","title":"Feature Request Template","text":"<ul> <li>Title: Clear, descriptive title</li> <li>Description: Detailed description of the proposed feature</li> <li>Use Case: Explain why this feature would be useful</li> <li>Implementation Ideas: Optional suggestions for implementation</li> </ul>"},{"location":"contributing/#getting-help","title":"\ud83d\udcde Getting Help","text":"<ul> <li>Issues: GitHub Issues</li> <li>Discussions: GitHub Discussions</li> <li>Documentation: Full Documentation</li> </ul>"},{"location":"contributing/#code-of-conduct","title":"\ud83d\udcdc Code of Conduct","text":"<p>This project follows a code of conduct to ensure a welcoming environment for all contributors. By participating, you agree to:</p> <ul> <li>Be respectful and inclusive</li> <li>Focus on constructive feedback</li> <li>Accept responsibility for mistakes</li> <li>Show empathy towards other contributors</li> <li>Help create a positive community</li> </ul>"},{"location":"contributing/#acknowledgments","title":"\ud83d\ude4f Acknowledgments","text":"<p>Thank you to all contributors who help make TradingView Scraper better! Your time and effort are greatly appreciated.</p> <p>This contributing guide is adapted from open-source best practices and can be improved. Feel free to suggest changes!</p>"},{"location":"getting-started/","title":"Getting Started","text":"<p>This guide covers installation, basic usage, response format, export options, and error handling for <code>tv-scraper</code>.</p>"},{"location":"getting-started/#installation","title":"Installation","text":""},{"location":"getting-started/#using-pip","title":"Using pip","text":"<pre><code>pip install tv-scraper\n</code></pre>"},{"location":"getting-started/#using-uv","title":"Using uv","text":"<pre><code>uv add tv-scraper\n</code></pre>"},{"location":"getting-started/#development-installation","title":"Development Installation","text":"<pre><code>git clone https://github.com/smitkunpara/tv-scraper.git\ncd tv-scraper\nuv sync --extra dev\n</code></pre>"},{"location":"getting-started/#basic-usage","title":"Basic Usage","text":""},{"location":"getting-started/#market-data","title":"Market Data","text":"<pre><code>from tv_scraper import Technicals, Overview, Fundamentals, Markets\n\n# Technical indicators\ntech = Technicals()\nresult = tech.get_technicals(exchange=\"NASDAQ\", symbol=\"AAPL\")\nprint(result[\"data\"])  # {\"RSI\": 65.5, \"MACD.macd\": 1.23, ...}\n\n# Symbol overview\noverview = Overview()\nresult = overview.get_overview(exchange=\"NASDAQ\", symbol=\"AAPL\")\nprint(result[\"data\"])\n\n# Fundamental data\nfundamentals = Fundamentals()\nresult = fundamentals.get_fundamentals(exchange=\"NASDAQ\", symbol=\"AAPL\")\nprint(result[\"data\"])\n\n# Market listings (top stocks by market cap)\nmarkets = Markets()\nresult = markets.get_markets(market=\"america\")\nprint(result[\"data\"])\n</code></pre>"},{"location":"getting-started/#social","title":"Social","text":"<pre><code>from tv_scraper import Ideas, Minds, News\n\n# Trading ideas\nideas = Ideas()\nresult = ideas.get_ideas(exchange=\"CRYPTO\", symbol=\"BTCUSD\")\nfor idea in result[\"data\"]:\n    print(idea[\"title\"], idea[\"author\"])\n\n# Minds discussions\nminds = Minds()\nresult = minds.get_minds(exchange=\"NASDAQ\", symbol=\"AAPL\")\nprint(result[\"data\"])\n\n# News\nnews = News()\nresult = news.get_news_headlines(exchange=\"NASDAQ\", symbol=\"AAPL\")\nfor article in result[\"data\"]:\n    print(article[\"title\"])\n</code></pre>"},{"location":"getting-started/#screening","title":"Screening","text":"<pre><code>from tv_scraper import Screener, MarketMovers, SymbolMarkets\n\n# Stock screener\nscreener = Screener()\nresult = screener.get_screener(market=\"america\")\nprint(result[\"data\"])\n\n# Market movers\nmovers = MarketMovers()\nresult = movers.get_market_movers(market=\"stocks-usa\", category=\"gainers\")\nprint(result[\"data\"])\n\n# Find all exchanges for a symbol\nsym_markets = SymbolMarkets()\nresult = sym_markets.get_markets(symbol=\"AAPL\")\nprint(result[\"data\"])\n</code></pre>"},{"location":"getting-started/#events","title":"Events","text":"<pre><code>from tv_scraper import Calendar\n\ncalendar = Calendar()\nresult = calendar.get_dividends(markets=[\"america\"])\nprint(result[\"data\"])\n</code></pre>"},{"location":"getting-started/#streaming","title":"Streaming","text":"<pre><code>from tv_scraper import Streamer, RealTimeData\n\n# Get historical candles with indicators\nstreamer = Streamer(export_result=True, export_type=\"json\")\nresult = streamer.get_candles(\n    exchange=\"BINANCE\",\n    symbol=\"BTCUSDT\",\n    indicators=[(\"STD;RSI\", \"21.0\")]  # (script_id, version) tuples\n)\n\n# Real-time price streaming\nrt = RealTimeData()\nfor packet in rt.get_ohlcv(exchange=\"BINANCE\", symbol=\"BTCUSDT\"):\n    print(packet)\n</code></pre>"},{"location":"getting-started/#response-format","title":"Response Format","text":"<p>All scraper methods return a standardized response envelope:</p> <pre><code>{\n    \"status\": \"success\",   # \"success\" or \"failed\"\n    \"data\": { ... },       # the response payload (dict, list, etc.)\n    \"metadata\": {          # contextual information\n        \"symbol\": \"AAPL\",\n        \"exchange\": \"NASDAQ\"\n    },\n    \"error\": None          # error string if status == \"failed\", else None\n}\n</code></pre>"},{"location":"getting-started/#checking-for-errors","title":"Checking for Errors","text":"<pre><code>result = tech.get_technicals(exchange=\"NASDAQ\", symbol=\"AAPL\")\n\nif result[\"status\"] == \"success\":\n    data = result[\"data\"]\n    # process data\nelse:\n    print(f\"Error: {result['error']}\")\n</code></pre>"},{"location":"getting-started/#export-options","title":"Export Options","text":"<p>All scrapers support automatic export to JSON or CSV:</p> <pre><code># Export to JSON\ntech = Technicals(export_result=True, export_type=\"json\")\nresult = tech.get_technicals(exchange=\"NASDAQ\", symbol=\"AAPL\")\n# File saved to export/ directory\n\n# Export to CSV\ntech = Technicals(export_result=True, export_type=\"csv\")\nresult = tech.get_technicals(exchange=\"NASDAQ\", symbol=\"AAPL\")\n</code></pre> <p>Supported export types: - <code>\"json\"</code> \u2014 saves as a <code>.json</code> file - <code>\"csv\"</code> \u2014 saves as a <code>.csv</code> file</p> <p>Invalid export types raise a <code>ValueError</code> at construction time:</p> <pre><code>try:\n    tech = Technicals(export_type=\"xml\")  # ValueError!\nexcept ValueError as e:\n    print(e)\n</code></pre>"},{"location":"getting-started/#error-handling","title":"Error Handling","text":"<p>Scrapers never raise exceptions for data errors. Instead, they return an error response:</p> <pre><code>result = tech.get_technicals(exchange=\"INVALID\", symbol=\"AAPL\")\n# {\n#     \"status\": \"failed\",\n#     \"data\": None,\n#     \"metadata\": {\"exchange\": \"INVALID\", \"symbol\": \"AAPL\"},\n#     \"error\": \"Invalid exchange: 'INVALID'. ...\"\n# }\n</code></pre> <p>Only construction-time validation (like invalid <code>export_type</code>) raises exceptions.</p>"},{"location":"getting-started/#exception-types","title":"Exception Types","text":"<p>For advanced usage, the exception hierarchy is available in <code>tv_scraper.core.exceptions</code>:</p> <pre><code>from tv_scraper.core import (\n    TvScraperError,     # Base exception\n    ValidationError,    # Invalid parameters\n    DataNotFoundError,  # Requested data not found\n    NetworkError,       # HTTP/WebSocket failures\n    ExportError,        # File export failures\n)\n</code></pre>"},{"location":"getting_cookies/","title":"Getting Cookies","text":"<p>TradingView may present captcha challenges when scraping ideas to prevent automated access. To continue scraping without interruptions, you need to obtain and use a valid session cookie after manually solving the captcha.</p> <p>Captcha Frequency</p> <p>TradingView typically requires captcha verification every 24 hours. When you encounter a captcha error, you'll need to repeat this process to get a fresh cookie.</p>"},{"location":"getting_cookies/#steps-to-obtain-session-cookie","title":"Steps to Obtain Session Cookie","text":"<p>Follow these steps to get a valid TradingView session cookie after solving the captcha:</p> <ol> <li> <p>Open the Ideas Page: Navigate to <code>https://www.tradingview.com/symbols/BTCUSD/ideas/</code> in your web browser.</p> </li> <li> <p>Open Developer Tools: Press <code>F12</code> to open the browser's developer tools and switch to the Network tab.</p> </li> <li> <p>Solve the Captcha: If a captcha challenge appears, complete it manually.</p> </li> <li> <p>Refresh the Page: After solving the captcha, refresh the page to ensure a clean request.</p> </li> <li> <p>Capture the Request: In the Network tab, look for the GET request to <code>https://www.tradingview.com/symbols/BTCUSD/ideas/</code> (usually at the top of the list).</p> </li> <li> <p>Extract the Cookie:</p> <ul> <li>Select the request</li> <li>Go to the Headers section</li> <li>Find the Cookie header in the request headers</li> <li>Copy the entire cookie value</li> </ul> </li> </ol>"},{"location":"getting_cookies/#using-the-cookie-in-code","title":"Using the Cookie in Code","text":"<p>Once you have the cookie string, you can use it directly in Python</p> <pre><code>from tv_scraper import Ideas\n\n# Your copied cookie string\nTRADINGVIEW_COOKIE = r\"paste_your_cookie_string_here\"\n\n# Initialize scraper with cookie\nideas_scraper = Ideas(cookie=TRADINGVIEW_COOKIE)\n\n# Scrape ideas\nideas = ideas_scraper.get_ideas(symbol=\"BTCUSD\", exchange=\"CRYPTO\", start_page=1, end_page=5)\n</code></pre> <p>Cookie Expiration</p> <p>The cookie remains valid for approximately 24 hours. After that, you'll need to repeat the process to get a new cookie when scraping encounters captcha challenges again.</p>"},{"location":"migration-guide/","title":"Migration Guide: tradingview_scraper \u2192 tv-scraper","text":"<p>This guide covers all breaking changes when migrating from the legacy <code>tradingview_scraper</code> package to the new <code>tv-scraper</code> v1.0.2.</p>"},{"location":"migration-guide/#package-rename","title":"Package Rename","text":"<p>The package has been reorganized from a flat structure under <code>tradingview_scraper.symbols</code> to a modular architecture under <code>tv_scraper</code>.</p> <pre><code># Old\nfrom tradingview_scraper.symbols.technicals import Indicators\n\n# New\nfrom tv_scraper import Technicals\n# or full path:\nfrom tv_scraper.scrapers.market_data.technicals import Technicals\n</code></pre>"},{"location":"migration-guide/#import-path-changes","title":"Import Path Changes","text":""},{"location":"migration-guide/#scraper-classes","title":"Scraper Classes","text":"Old Import New Import <code>tradingview_scraper.symbols.technicals.Indicators</code> <code>tv_scraper.scrapers.market_data.technicals.Technicals</code> <code>tradingview_scraper.symbols.overview.Overview</code> <code>tv_scraper.scrapers.market_data.overview.Overview</code> <code>tradingview_scraper.symbols.fundamental_graphs.FundamentalGraphs</code> <code>tv_scraper.scrapers.market_data.fundamentals.Fundamentals</code> <code>tradingview_scraper.symbols.markets.Markets</code> <code>tv_scraper.scrapers.market_data.markets.Markets</code> <code>tradingview_scraper.symbols.ideas.Ideas</code> <code>tv_scraper.scrapers.social.ideas.Ideas</code> <code>tradingview_scraper.symbols.minds.Minds</code> <code>tv_scraper.scrapers.social.minds.Minds</code> <code>tradingview_scraper.symbols.news.News</code> <code>tv_scraper.scrapers.social.news.News</code> <code>tradingview_scraper.symbols.screener.Screener</code> <code>tv_scraper.scrapers.screening.screener.Screener</code> <code>tradingview_scraper.symbols.market_movers.MarketMovers</code> <code>tv_scraper.scrapers.screening.market_movers.MarketMovers</code> <code>tradingview_scraper.symbols.symbol_markets.SymbolMarkets</code> <code>tv_scraper.scrapers.screening.symbol_markets.SymbolMarkets</code> <code>tradingview_scraper.symbols.cal.Calendar</code> <code>tv_scraper.scrapers.events.calendar.Calendar</code> <code>tradingview_scraper.symbols.stream.price.RealTimeData</code> <code>tv_scraper.streaming.price.RealTimeData</code> <code>tradingview_scraper.symbols.stream.streamer.Streamer</code> <code>tv_scraper.streaming.streamer.Streamer</code>"},{"location":"migration-guide/#convenience-imports","title":"Convenience Imports","text":"<p>All public classes are available directly from <code>tv_scraper</code>:</p> <pre><code>from tv_scraper import (\n    Technicals, Overview, Fundamentals, Markets,\n    Ideas, Minds, News,\n    Screener, MarketMovers, SymbolMarkets,\n    Calendar,\n    Streamer, RealTimeData,\n)\n</code></pre>"},{"location":"migration-guide/#core-modules","title":"Core Modules","text":"Old Import New Import <code>tradingview_scraper.symbols.exceptions</code> <code>tv_scraper.core.exceptions</code> <code>tradingview_scraper.symbols.utils</code> <code>tv_scraper.utils</code>"},{"location":"migration-guide/#class-renames","title":"Class Renames","text":"Old Class New Class Notes <code>Indicators</code> <code>Technicals</code> Renamed for clarity <code>FundamentalGraphs</code> <code>Fundamentals</code> Shortened name <code>Calendar</code> <code>Calendar</code> No change All others Same name No change"},{"location":"migration-guide/#method-renames","title":"Method Renames","text":"Module Old Method New Method Technicals <code>Indicators.get_data()</code> <code>Technicals.get_technicals()</code> Overview <code>Overview.get_symbol_overview()</code> <code>Overview.get_overview()</code> Fundamentals <code>FundamentalGraphs.get_data()</code> <code>Fundamentals.get_fundamentals()</code> Ideas <code>Ideas.get_ideas()</code> <code>Ideas.get_ideas()</code> News <code>News.scrape_news_content()</code> <code>News.scrape_content()</code> News <code>News.get_headlines()</code> <code>News.get_headlines()</code> Screener <code>Screener.get_screener()</code> <code>Screener.get_screener()</code> MarketMovers <code>MarketMovers.get_market_movers()</code> <code>MarketMovers.get_market_movers()</code> SymbolMarkets <code>SymbolMarkets.get_symbol_markets()</code> <code>SymbolMarkets.get_symbol_markets()</code> Calendar <code>Calendar.get_dividends()</code> <code>Calendar.get_dividends()</code> Calendar <code>Calendar.get_earnings()</code> <code>Calendar.get_earnings()</code> Minds <code>Minds.get_minds()</code> <code>Minds.get_minds()</code> Markets <code>Markets.get_markets()</code> <code>Markets.get_markets()</code> Streamer <code>Streamer.stream()</code> <code>Streamer.get_candles()</code> RealTimeData <code>RealTimeData.get_ohlcv()</code> <code>RealTimeData.get_ohlcv()</code>"},{"location":"migration-guide/#parameter-changes","title":"Parameter Changes","text":""},{"location":"migration-guide/#exchange-and-symbol-splitting","title":"Exchange and Symbol Splitting","text":"<p>In the old API, some methods accepted a combined <code>\"EXCHANGE:SYMBOL\"</code> string. The new API always uses separate parameters:</p> <pre><code># Old\nresult = scraper.get_technicals(symbol=\"NASDAQ:AAPL\")\n\n# New\nresult = scraper.get_technicals(exchange=\"NASDAQ\", symbol=\"AAPL\")\n</code></pre>"},{"location":"migration-guide/#parameter-renames","title":"Parameter Renames","text":"Old Parameter New Parameter Module(s) Notes <code>columns</code> <code>fields</code> Screener, MarketMovers Renamed for consistency <code>sort</code> <code>sort_by</code> Screener Renamed for clarity <code>symbol</code> (combined) <code>exchange</code> + <code>symbol</code> All scrapers Always split <code>websocket_jwt_token</code> <code>jwt_token</code> Streamer Shortened"},{"location":"migration-guide/#new-parameters","title":"New Parameters","text":"Parameter Module(s) Description <code>timeout</code> All scrapers HTTP request timeout (default: 10s) <code>export_result</code> All scrapers Enable data export (default: False) <code>export_type</code> All scrapers Export format: <code>\"json\"</code> or <code>\"csv\"</code>"},{"location":"migration-guide/#response-format-changes","title":"Response Format Changes","text":""},{"location":"migration-guide/#old-format","title":"Old Format","text":"<p>Responses varied by scraper \u2014 some returned raw dicts, some returned lists, some returned pandas DataFrames.</p> <pre><code># Old \u2014 inconsistent return types\nresult = technicals.get_technicals(...)\n# Could be: dict, list, DataFrame, or raise an exception\n</code></pre>"},{"location":"migration-guide/#new-format-standardized-envelope","title":"New Format \u2014 Standardized Envelope","text":"<p>All scrapers return a standardized response envelope:</p> <pre><code>result = technicals.get_technicals(exchange=\"NASDAQ\", symbol=\"AAPL\")\n# Always returns:\n{\n    \"status\": \"success\",       # or \"failed\"\n    \"data\": { ... },           # the payload (dict, list, etc.)\n    \"metadata\": {              # contextual info\n        \"symbol\": \"AAPL\",\n        \"exchange\": \"NASDAQ\"\n    },\n    \"error\": None              # error string if status == \"failed\"\n}\n</code></pre>"},{"location":"migration-guide/#accessing-data","title":"Accessing Data","text":"<pre><code># Old\ndata = result  # or result[\"AAPL\"] or result.to_dict()\n\n# New\nif result[\"status\"] == \"success\":\n    data = result[\"data\"]\n</code></pre>"},{"location":"migration-guide/#error-handling-changes","title":"Error Handling Changes","text":""},{"location":"migration-guide/#old-exceptions","title":"Old \u2014 Exceptions","text":"<pre><code># Old \u2014 could raise any exception\ntry:\n    result = scraper.get_technicals(symbol=\"INVALID\")\nexcept DataNotFoundError as e:\n    handle_error(e)\nexcept Exception as e:\n    handle_error(e)\n</code></pre>"},{"location":"migration-guide/#new-error-responses","title":"New \u2014 Error Responses","text":"<p>Scrapers never raise for data/network errors. They return error envelopes:</p> <pre><code># New \u2014 always returns a dict\nresult = scraper.get_technicals(exchange=\"INVALID\", symbol=\"AAPL\")\nif result[\"status\"] == \"failed\":\n    print(result[\"error\"])\n    # \"Invalid exchange: 'INVALID'. Did you mean: ...\"\n</code></pre> <p>Only construction-time validation raises exceptions:</p> <pre><code># This still raises ValueError\nscraper = Technicals(export_type=\"xml\")\n</code></pre>"},{"location":"migration-guide/#exception-hierarchy","title":"Exception Hierarchy","text":"Old New <code>DataNotFoundError</code> <code>tv_scraper.core.exceptions.DataNotFoundError</code> Generic <code>Exception</code> / <code>ValueError</code> <code>tv_scraper.core.exceptions.ValidationError</code> Network errors (unhandled) <code>tv_scraper.core.exceptions.NetworkError</code> Export errors (logged only) <code>tv_scraper.core.exceptions.ExportError</code> \u2014 <code>tv_scraper.core.exceptions.TvScraperError</code> (base class)"},{"location":"migration-guide/#architecture-changes","title":"Architecture Changes","text":""},{"location":"migration-guide/#basescraper","title":"BaseScraper","text":"<p>All scraper classes now inherit from <code>BaseScraper</code>, providing: - <code>_success_response()</code> / <code>_error_response()</code> for envelope formatting - <code>_make_request()</code> for HTTP with default headers and timeout - <code>_export()</code> for JSON/CSV file export - <code>self.validator</code> \u2014 shared <code>DataValidator</code> singleton</p>"},{"location":"migration-guide/#datavalidator","title":"DataValidator","text":"<p>A singleton that validates exchanges, indicators, timeframes, etc. against JSON data files. Provides fuzzy suggestions for invalid inputs.</p> <pre><code>from tv_scraper.core import DataValidator\n\nvalidator = DataValidator()\nvalidator.validate_exchange(\"NASDAQ\")  # True\nvalidator.validate_exchange(\"TYPO\")    # raises ValidationError with suggestions\n</code></pre>"},{"location":"migration-guide/#breaking-changes-summary","title":"Breaking Changes Summary","text":"<ol> <li>Package rename: <code>tradingview_scraper</code> \u2192 <code>tv-scraper</code></li> <li>Class renames: <code>Indicators</code> \u2192 <code>Technicals</code>, <code>FundamentalGraphs</code> \u2192 <code>Fundamentals</code></li> <li>Method renames: <code>get_symbol_overview</code> \u2192 <code>get_overview</code>, <code>stream</code> \u2192 <code>get_candles</code>, etc.</li> <li>Parameter splitting: <code>symbol=\"EXCHANGE:SYMBOL\"</code> \u2192 <code>exchange=\"...\", symbol=\"...\"</code></li> <li>Parameter renames: <code>columns</code> \u2192 <code>fields</code>, <code>sort</code> \u2192 <code>sort_by</code></li> <li>Response format: Raw data \u2192 standardized envelope with <code>status</code>, <code>data</code>, <code>metadata</code>, <code>error</code></li> <li>Error handling: Exceptions \u2192 error responses (scrapers never raise for data errors)</li> <li>Export validation: Invalid <code>export_type</code> raises <code>ValueError</code> at construction</li> </ol>"},{"location":"migration-guide/#side-by-side-example","title":"Side-by-Side Example","text":""},{"location":"migration-guide/#old-code","title":"Old Code","text":"<pre><code>from tradingview_scraper.symbols.technicals import Indicators\n\nindicators = Indicators()\ntry:\n    result = technicals.get_technicals(\n        symbol=\"NASDAQ:AAPL\",\n        indicators=[\"RSI\", \"MACD.macd\"]\n    )\n    rsi = result.get(\"RSI\")\nexcept Exception as e:\n    print(f\"Error: {e}\")\n</code></pre>"},{"location":"migration-guide/#new-code","title":"New Code","text":"<pre><code>from tv_scraper import Technicals\n\ntech = Technicals()\nresult = tech.get_technicals(\n    exchange=\"NASDAQ\",\n    symbol=\"AAPL\",\n    technical_indicators=[\"RSI\", \"MACD.macd\"]\n)\nif result[\"status\"] == \"success\":\n    rsi = result[\"data\"].get(\"RSI\")\nelse:\n    print(f\"Error: {result['error']}\")\n</code></pre>"},{"location":"supported_data/","title":"Supported Data","text":""},{"location":"supported_data/#supported-areas","title":"Supported Areas","text":"Code Name Description WLD World Global coverage AME Americas North and South America EUR Europe European continent ASI Asia Asian continent OCN Oceania Australia, New Zealand, Pacific Islands AFR Africa African continent"},{"location":"supported_data/#supported-exchanges","title":"Supported Exchanges","text":"<p>The following exchanges are supported:</p> <pre><code>ADX ALOR AMEX ASX ATHEX BAHRAIN BASESWAP BCBA BCS BELEX\nBER BET BINANCE BINANCEUS BINGX BIST BISWAP BITAZZA BITBNS BITCOKE\nBITFINEX BITFLYER BITGET BITHUMB BITKUB BITMART BITMEX BITPANDAPRO\nBITRUE BITSTAMP BITTREX BITVAVO BIVA BLACKBULL BLOFIN BME BMFBOVESPA BMV BSE BSSE\nBTSE BVB BVC BVCV BVL BVMT BX BYBIT CAMELOT CAMELOT3ARBITRUM\nCAPITALCOM CBOE CBOT CBOT_MINI CEXIO CFFEX CITYINDEX CME CME_MINI COINBASE\nCOINEX COMEX COMEX_MINI CRYPTO CRYPTOCAP CRYPTOCOM CSE CSECY CSELK CSEMA\nCURRENCYCOM CURVE DELTA DERIBIT DFM DJ DSEBD DUS DYDX EASYMARKETS\nECONOMICS EGX EIGHTCAP EURONEXT EUROTLX EUREX EXMO FINRA FOREXCOM FSE\nFTSEMYX FTX FWB FX FX_IDC FXCM FXOPEN GATEIO GEMINI GETTEX\nGLOBALPRIME GPW HAM HAN HITBTC HKEX HNX HONEYSWAP HONEYSWAPPOLYGON\nHOSE HSI HTX HUOBI ICEAD ICEEUR ICESG ICEUS IDX INDEX\nJSE KATANA KRX KRAKEN KSE KUCOIN LS LSE LSIN LSX\nLUXSE MATBAROFEX MCX MERCADO MEXC MGEX MIL MMFINANCE MOEX MUN MYX\nNAG NASDAQ NASDAQDUBAI NCDEX NEO NEWCONNECT NGM NSE\nNSEKE NSENG NYMEX NYMEX_MINI NYSE NZX OANDA OKCOIN OKX OMXCOP\nOMXHEX OMXICE OMXRSE OMXSTO OMXTSE OMXVSE ORCA OSE OSL OTC\nPANCAKESWAP PANCAKESWAP3BSC PANCAKESWAP3ETH PANGOLIN PEPPERSTONE PHEMEX PHILLIPNOVA PIONEX POLONIEX PSE\nPSECZ PSX PULSEX QSE QUICKSWAP QUICKSWAP3POLYGON QUICKSWAP3POLYGONZKEVM RAYDIUM RUS SAPSE\nSAXO SET SGX SHFE SIX SKILLING SP SPARKS SPOOKYSWAP SSE\nSUSHISWAP SUSHISWAPPOLYGON SWB SZSE TADAWUL TAIFEX TASE TFEX TFX THRUSTER3\nTIMEX TOCOM TOKENIZE TPEX TRADEGATE TRADERJOE TRADESTATION TSE TSX TSXV\nTVC TWSE UNISWAP UNISWAP3ARBITRUM UNISWAP3AVALANCHE UNISWAP3BASE UNISWAP3BSC UNISWAP3ETH UNISWAP3OPTIMISM\nUNISWAP3POLYGON UPBIT UPCOM VANTAGE VELODROME VERSEETH VIE VVSFINANCE WAGYUSWAP WHITEBIT WOONETWORK XETR XEXCHANGE ZOOMEX\n</code></pre>"},{"location":"supported_data/#supported-indicators","title":"Supported Indicators","text":""},{"location":"supported_data/#momentum-indicators","title":"Momentum Indicators","text":"Indicator Description RSI Relative Strength Index RSI[1] RSI (previous value) Stoch.K Stochastic %K Stoch.D Stochastic %D Stoch.K[1] Stochastic %K (previous) Stoch.D[1] Stochastic %D (previous) CCI20 Commodity Channel Index (20-period) CCI20[1] CCI20 (previous) ADX Average Directional Index ADX+DI ADX + Directional Indicator ADX-DI ADX - Directional Indicator ADX+DI[1] ADX+DI (previous) ADX-DI[1] ADX-DI (previous) AO Awesome Oscillator AO[1] AO (previous) AO[2] AO (previous 2) Mom Momentum Mom[1] Momentum (previous)"},{"location":"supported_data/#moving-averages","title":"Moving Averages","text":"Indicator Description EMA10 Exponential Moving Average (10) EMA20 Exponential Moving Average (20) EMA30 Exponential Moving Average (30) EMA50 Exponential Moving Average (50) EMA100 Exponential Moving Average (100) EMA200 Exponential Moving Average (200) SMA10 Simple Moving Average (10) SMA20 Simple Moving Average (20) SMA30 Simple Moving Average (30) SMA50 Simple Moving Average (50) SMA100 Simple Moving Average (100) SMA200 Simple Moving Average (200) VWMA Volume Weighted Moving Average HullMA9 Hull Moving Average (9)"},{"location":"supported_data/#macd-components","title":"MACD Components","text":"Indicator Description MACD.macd MACD Line MACD.signal MACD Signal Line"},{"location":"supported_data/#pivot-points","title":"Pivot Points","text":""},{"location":"supported_data/#classic","title":"Classic","text":"Indicator Description Pivot.M.Classic.S3 Classic Pivot S3 Pivot.M.Classic.S2 Classic Pivot S2 Pivot.M.Classic.S1 Classic Pivot S1 Pivot.M.Classic.Middle Classic Pivot Middle Pivot.M.Classic.R1 Classic Pivot R1 Pivot.M.Classic.R2 Classic Pivot R2 Pivot.M.Classic.R3 Classic Pivot R3"},{"location":"supported_data/#fibonacci","title":"Fibonacci","text":"Indicator Description Pivot.M.Fibonacci.S3 Fibonacci Pivot S3 Pivot.M.Fibonacci.S2 Fibonacci Pivot S2 Pivot.M.Fibonacci.S1 Fibonacci Pivot S1 Pivot.M.Fibonacci.Middle Fibonacci Pivot Middle Pivot.M.Fibonacci.R1 Fibonacci Pivot R1 Pivot.M.Fibonacci.R2 Fibonacci Pivot R2 Pivot.M.Fibonacci.R3 Fibonacci Pivot R3"},{"location":"supported_data/#camarilla","title":"Camarilla","text":"Indicator Description Pivot.M.Camarilla.S3 Camarilla Pivot S3 Pivot.M.Camarilla.S2 Camarilla Pivot S2 Pivot.M.Camarilla.S1 Camarilla Pivot S1 Pivot.M.Camarilla.Middle Camarilla Pivot Middle Pivot.M.Camarilla.R1 Camarilla Pivot R1 Pivot.M.Camarilla.R2 Camarilla Pivot R2 Pivot.M.Camarilla.R3 Camarilla Pivot R3"},{"location":"supported_data/#woodie","title":"Woodie","text":"Indicator Description Pivot.M.Woodie.S3 Woodie Pivot S3 Pivot.M.Woodie.S2 Woodie Pivot S2 Pivot.M.Woodie.S1 Woodie Pivot S1 Pivot.M.Woodie.Middle Woodie Pivot Middle Pivot.M.Woodie.R1 Woodie Pivot R1 Pivot.M.Woodie.R2 Woodie Pivot R2 Pivot.M.Woodie.R3 Woodie Pivot R3"},{"location":"supported_data/#demark","title":"DeMark","text":"Indicator Description Pivot.M.Demark.S1 DeMark Pivot S1 Pivot.M.Demark.Middle DeMark Pivot Middle Pivot.M.Demark.R1 DeMark Pivot R1"},{"location":"supported_data/#recommendation-indicators","title":"Recommendation Indicators","text":"Indicator Description Recommend.Other Other Recommendations Recommend.All All Recommendations Recommend.MA Moving Average Recommendations Rec.Stoch.RSI Stochastic RSI Recommendation Rec.WR Williams %R Recommendation Rec.BBPower Bollinger Bands Power Recommendation Rec.UO Ultimate Oscillator Recommendation Rec.Ichimoku Ichimoku Recommendation Rec.VWMA VWMA Recommendation Rec.HullMA9 Hull MA9 Recommendation"},{"location":"supported_data/#other-indicators","title":"Other Indicators","text":"Indicator Description BBPower Bollinger Bands Power UO Ultimate Oscillator Ichimoku.BLine Ichimoku Baseline close Close Price W.R Williams %R Stoch.RSI.K Stochastic RSI %K"},{"location":"supported_data/#supported-languages","title":"Supported Languages","text":"Language Code English en German de French fr Spanish es Italian it Portuguese pt Russian ru Japanese ja Korean ko Arabic ar Hindi hi Swedish sv Turkish tr Thai th Vietnamese vi Indonesian id Persian fa Chinese ch Malay ms Greek el Hebrew he"},{"location":"supported_data/#supported-news-providers","title":"Supported News Providers","text":"Provider Description the_block The Block - Crypto news cointelegraph Cointelegraph - Crypto news beincrypto BeInCrypto - Crypto news newsbtc NewsBTC - Crypto news dow-jones Dow Jones - Financial news cryptonews CryptoNews - Crypto news coindesk CoinDesk - Crypto news cryptoglobe CryptoGlobe - Crypto news tradingview TradingView - Market analysis zycrypto ZyCrypto - Crypto news todayq Todayq - Financial news cryptopotato CryptoPotato - Crypto news u_today U.Today - Crypto news cryptobriefing CryptoBriefing - Crypto news coindar Coindar - Crypto events bitcoin_com Bitcoin.com - Crypto news"},{"location":"supported_data/#supported-timeframes","title":"Supported Timeframes","text":"Timeframe Code Description 1m 1 1 minute 5m 5 5 minutes 15m 15 15 minutes 30m 30 30 minutes 1h 60 1 hour 2h 120 2 hours 4h 240 4 hours 1d 1 day 1w 1W 1 week 1M 1M 1 month"},{"location":"scrapers/calendar/","title":"Calendar Module","text":""},{"location":"scrapers/calendar/#overview","title":"Overview","text":"<p>The Calendar module fetches dividend and earnings events from the TradingView calendar scanner API. It returns standardized response envelopes and never raises exceptions.</p>"},{"location":"scrapers/calendar/#api","title":"API","text":"<pre><code>from tv_scraper.scrapers.events import Calendar\n\ncal = Calendar(export_result=False, export_type=\"json\", timeout=10)\n</code></pre>"},{"location":"scrapers/calendar/#get_dividends","title":"<code>get_dividends()</code>","text":"<pre><code>cal.get_dividends(\n    timestamp_from: Optional[int] = None,   # Unix timestamp, default: midnight - 3 days\n    timestamp_to: Optional[int] = None,     # Unix timestamp, default: midnight + 3 days + 86399\n    markets: Optional[List[str]] = None,    # e.g. [\"america\", \"uk\"]\n    fields: Optional[List[str]] = None,     # validated against known dividend fields\n) -&gt; Dict[str, Any]\n</code></pre>"},{"location":"scrapers/calendar/#get_earnings","title":"<code>get_earnings()</code>","text":"<pre><code>cal.get_earnings(\n    timestamp_from: Optional[int] = None,\n    timestamp_to: Optional[int] = None,\n    markets: Optional[List[str]] = None,\n    fields: Optional[List[str]] = None,     # validated against known earnings fields\n) -&gt; Dict[str, Any]\n</code></pre>"},{"location":"scrapers/calendar/#response-format","title":"Response Format","text":"<p>All methods return a standardized envelope:</p> <pre><code>{\n    \"status\": \"success\",          # or \"failed\"\n    \"data\": [                     # list of event dicts, or None on error\n        {\n            \"symbol\": \"NASDAQ:AAPL\",\n            \"name\": \"Apple Inc.\",\n            \"dividends_yield\": 0.55,\n            ...\n        }\n    ],\n    \"metadata\": {\n        \"event_type\": \"dividends\",  # or \"earnings\"\n        \"total\": 42,\n    },\n    \"error\": None                 # error message string on failure\n}\n</code></pre>"},{"location":"scrapers/calendar/#available-fields","title":"Available Fields","text":""},{"location":"scrapers/calendar/#dividend-fields","title":"Dividend Fields","text":"<ul> <li><code>dividend_ex_date_recent</code>, <code>dividend_ex_date_upcoming</code></li> <li><code>logoid</code>, <code>name</code>, <code>description</code></li> <li><code>dividends_yield</code></li> <li><code>dividend_payment_date_recent</code>, <code>dividend_payment_date_upcoming</code></li> <li><code>dividend_amount_recent</code>, <code>dividend_amount_upcoming</code></li> <li><code>fundamental_currency_code</code>, <code>market</code></li> </ul>"},{"location":"scrapers/calendar/#earnings-fields","title":"Earnings Fields","text":"<ul> <li><code>earnings_release_next_date</code>, <code>earnings_release_date</code></li> <li><code>logoid</code>, <code>name</code>, <code>description</code></li> <li><code>earnings_per_share_fq</code>, <code>earnings_per_share_forecast_next_fq</code></li> <li><code>eps_surprise_fq</code>, <code>eps_surprise_percent_fq</code></li> <li><code>revenue_fq</code>, <code>revenue_forecast_next_fq</code></li> <li><code>market_cap_basic</code></li> <li><code>earnings_release_time</code>, <code>earnings_release_next_time</code></li> <li><code>earnings_per_share_forecast_fq</code>, <code>revenue_forecast_fq</code></li> <li><code>fundamental_currency_code</code>, <code>market</code></li> <li><code>earnings_publication_type_fq</code>, <code>earnings_publication_type_next_fq</code></li> <li><code>revenue_surprise_fq</code>, <code>revenue_surprise_percent_fq</code></li> </ul>"},{"location":"scrapers/calendar/#examples","title":"Examples","text":"<pre><code>from tv_scraper.scrapers.events import Calendar\n\ncal = Calendar()\n\n# Default dividend events (\u00b13 days)\nresult = cal.get_dividends()\n\n# Earnings for specific market and fields\nresult = cal.get_earnings(\n    markets=[\"america\"],\n    fields=[\"logoid\", \"name\", \"earnings_per_share_fq\"],\n)\n\n# Custom date range\nimport datetime\nnow = int(datetime.datetime.now().timestamp())\nweek_later = now + 7 * 86400\nresult = cal.get_dividends(timestamp_from=now, timestamp_to=week_later)\n\n# Export to CSV\ncal = Calendar(export_result=True, export_type=\"csv\")\nresult = cal.get_earnings()\n</code></pre>"},{"location":"scrapers/calendar/#migration-from-tradingview_scraper","title":"Migration from <code>tradingview_scraper</code>","text":"Old (<code>CalendarScraper</code>) New (<code>Calendar</code>) <code>CalendarScraper()</code> <code>Calendar()</code> <code>scrape_dividends(...)</code> <code>get_dividends(...)</code> <code>scrape_earnings(...)</code> <code>get_earnings(...)</code> <code>values=[\"name\", \"logoid\"]</code> <code>fields=[\"name\", \"logoid\"]</code> Raises <code>ValueError</code> on invalid fields Returns error response envelope Raises <code>requests.HTTPError</code> on failure Returns error response envelope Returns <code>List[DividendEvent]</code> Returns <code>Dict[str, Any]</code> envelope Fields filtered with <code>values</code> param Fields filtered with <code>fields</code> param"},{"location":"scrapers/fundamentals/","title":"Fundamentals","text":""},{"location":"scrapers/fundamentals/#overview","title":"Overview","text":"<p>The <code>Fundamentals</code> scraper retrieves comprehensive financial data \u2014 income statement, balance sheet, cash flow, margins, profitability, liquidity, leverage, valuation, and dividends \u2014 for any symbol via the TradingView scanner API.</p>"},{"location":"scrapers/fundamentals/#quick-start","title":"Quick Start","text":"<pre><code>from tv_scraper.scrapers.market_data import Fundamentals\n\nscraper = Fundamentals()\n\n# All fundamental metrics for Apple\nresult = scraper.get_fundamentals(exchange=\"NASDAQ\", symbol=\"AAPL\")\nprint(result[\"data\"])\n\n# Income statement only\nincome = scraper.get_income_statement(exchange=\"NASDAQ\", symbol=\"AAPL\")\n\n# Compare multiple symbols\ncomparison = scraper.compare_fundamentals(\n    symbols=[\n        {\"exchange\": \"NASDAQ\", \"symbol\": \"AAPL\"},\n        {\"exchange\": \"NASDAQ\", \"symbol\": \"MSFT\"},\n    ],\n    fields=[\"total_revenue\", \"net_income\", \"market_cap_basic\"],\n)\n</code></pre>"},{"location":"scrapers/fundamentals/#constructor","title":"Constructor","text":"<pre><code>Fundamentals(\n    export_result: bool = False,\n    export_type: str = \"json\",   # \"json\" or \"csv\"\n    timeout: int = 10,\n)\n</code></pre>"},{"location":"scrapers/fundamentals/#methods","title":"Methods","text":""},{"location":"scrapers/fundamentals/#get_fundamentalsexchange-symbol-fieldsnone","title":"<code>get_fundamentals(exchange, symbol, fields=None)</code>","text":"<p>Fetch fundamental data for a single symbol.</p> Parameter Type Default Description <code>exchange</code> <code>str</code> \u2014 Exchange name (e.g. <code>\"NASDAQ\"</code>) <code>symbol</code> <code>str</code> \u2014 Trading symbol (e.g. <code>\"AAPL\"</code>) <code>fields</code> <code>list[str] \\| None</code> <code>None</code> Specific fields. <code>None</code> \u2192 all fields. <p>Returns a standardized response envelope:</p> <pre><code>{\n    \"status\": \"success\",\n    \"data\": {\"symbol\": \"NASDAQ:AAPL\", \"total_revenue\": ..., ...},\n    \"metadata\": {\"exchange\": \"NASDAQ\", \"symbol\": \"AAPL\"},\n    \"error\": None,\n}\n</code></pre>"},{"location":"scrapers/fundamentals/#compare_fundamentalssymbols-fieldsnone","title":"<code>compare_fundamentals(symbols, fields=None)</code>","text":"<p>Compare fundamental data across multiple symbols.</p> Parameter Type Default Description <code>symbols</code> <code>list[dict]</code> \u2014 List of <code>{\"exchange\": \"...\", \"symbol\": \"...\"}</code> dicts <code>fields</code> <code>list[str] \\| None</code> <code>None</code> Specific fields. <code>None</code> \u2192 key comparison metrics."},{"location":"scrapers/fundamentals/#category-helpers","title":"Category Helpers","text":"<p>Each takes <code>exchange: str, symbol: str</code> and returns the same envelope:</p> Method Fields <code>get_income_statement()</code> Revenue, profit, EPS, EBITDA <code>get_balance_sheet()</code> Assets, debt, equity <code>get_cash_flow()</code> Operating, investing, financing cash flows <code>get_statistics()</code> Liquidity + leverage + valuation ratios <code>get_dividends()</code> Yield, per share, payout ratio <code>get_profitability()</code> ROE, ROA, ROI <code>get_margins()</code> Gross, operating, net, EBITDA margins"},{"location":"scrapers/fundamentals/#field-categories","title":"Field Categories","text":""},{"location":"scrapers/fundamentals/#income-statement-13-fields","title":"Income Statement (13 fields)","text":"<p><code>total_revenue</code>, <code>revenue_per_share_ttm</code>, <code>total_revenue_fy</code>, <code>gross_profit</code>, <code>gross_profit_fy</code>, <code>operating_income</code>, <code>operating_income_fy</code>, <code>net_income</code>, <code>net_income_fy</code>, <code>EBITDA</code>, <code>basic_eps_net_income</code>, <code>earnings_per_share_basic_ttm</code>, <code>earnings_per_share_diluted_ttm</code></p>"},{"location":"scrapers/fundamentals/#balance-sheet-9-fields","title":"Balance Sheet (9 fields)","text":"<p><code>total_assets</code>, <code>total_assets_fy</code>, <code>cash_n_short_term_invest</code>, <code>cash_n_short_term_invest_fy</code>, <code>total_debt</code>, <code>total_debt_fy</code>, <code>stockholders_equity</code>, <code>stockholders_equity_fy</code>, <code>book_value_per_share_fq</code></p>"},{"location":"scrapers/fundamentals/#cash-flow-7-fields","title":"Cash Flow (7 fields)","text":"<p><code>cash_f_operating_activities</code>, <code>cash_f_operating_activities_fy</code>, <code>cash_f_investing_activities</code>, <code>cash_f_investing_activities_fy</code>, <code>cash_f_financing_activities</code>, <code>cash_f_financing_activities_fy</code>, <code>free_cash_flow</code></p>"},{"location":"scrapers/fundamentals/#margins-8-fields","title":"Margins (8 fields)","text":"<p><code>gross_margin</code>, <code>gross_margin_percent_ttm</code>, <code>operating_margin</code>, <code>operating_margin_ttm</code>, <code>pretax_margin_percent_ttm</code>, <code>net_margin</code>, <code>net_margin_percent_ttm</code>, <code>EBITDA_margin</code></p>"},{"location":"scrapers/fundamentals/#profitability-5-fields","title":"Profitability (5 fields)","text":"<p><code>return_on_equity</code>, <code>return_on_equity_fq</code>, <code>return_on_assets</code>, <code>return_on_assets_fq</code>, <code>return_on_investment_ttm</code></p>"},{"location":"scrapers/fundamentals/#liquidity-4-fields","title":"Liquidity (4 fields)","text":"<p><code>current_ratio</code>, <code>current_ratio_fq</code>, <code>quick_ratio</code>, <code>quick_ratio_fq</code></p>"},{"location":"scrapers/fundamentals/#leverage-3-fields","title":"Leverage (3 fields)","text":"<p><code>debt_to_equity</code>, <code>debt_to_equity_fq</code>, <code>debt_to_assets</code></p>"},{"location":"scrapers/fundamentals/#valuation-8-fields","title":"Valuation (8 fields)","text":"<p><code>market_cap_basic</code>, <code>market_cap_calc</code>, <code>market_cap_diluted_calc</code>, <code>enterprise_value_fq</code>, <code>price_earnings_ttm</code>, <code>price_book_fq</code>, <code>price_sales_ttm</code>, <code>price_free_cash_flow_ttm</code></p>"},{"location":"scrapers/fundamentals/#dividends-3-fields","title":"Dividends (3 fields)","text":"<p><code>dividends_yield</code>, <code>dividends_per_share_fq</code>, <code>dividend_payout_ratio_ttm</code></p>"},{"location":"scrapers/fundamentals/#migration-from-fundamentalgraphs","title":"Migration from <code>FundamentalGraphs</code>","text":"Aspect Old (<code>FundamentalGraphs</code>) New (<code>Fundamentals</code>) Import <code>from tradingview_scraper.symbols.fundamental_graphs import FundamentalGraphs</code> <code>from tv_scraper.scrapers.market_data import Fundamentals</code> Symbol param Combined <code>symbol=\"NASDAQ:AAPL\"</code> Separate <code>exchange=\"NASDAQ\", symbol=\"AAPL\"</code> Compare param <code>symbols=[\"NASDAQ:AAPL\", ...]</code> <code>symbols=[{\"exchange\": \"NASDAQ\", \"symbol\": \"AAPL\"}, ...]</code> Response keys <code>status</code>, <code>data</code>, <code>error</code> <code>status</code>, <code>data</code>, <code>metadata</code>, <code>error</code> Error handling Returns <code>{\"status\": \"failed\", ...}</code> Same pattern, adds <code>metadata</code> dict Base class None Inherits <code>BaseScraper</code> Validation <code>validate_symbol()</code> utility <code>DataValidator</code> singleton HTTP Raw <code>requests.get</code> <code>BaseScraper._make_request()</code> via <code>make_request()</code>"},{"location":"scrapers/fundamentals/#code-migration-example","title":"Code Migration Example","text":"<p>Before:</p> <pre><code>from tradingview_scraper.symbols.fundamental_graphs import FundamentalGraphs\n\nfg = FundamentalGraphs(export_result=True, export_type=\"json\")\nresult = fg.get_data(symbol=\"NASDAQ:AAPL\")\ncomparison = fg.compare_fundamentals(\n    symbols=[\"NASDAQ:AAPL\", \"NASDAQ:MSFT\"],\n    fields=[\"total_revenue\"],\n)\n</code></pre> <p>After:</p> <pre><code>from tv_scraper.scrapers.market_data import Fundamentals\n\nf = Fundamentals(export_result=True, export_type=\"json\")\nresult = f.get_fundamentals(exchange=\"NASDAQ\", symbol=\"AAPL\")\ncomparison = f.compare_fundamentals(\n    symbols=[\n        {\"exchange\": \"NASDAQ\", \"symbol\": \"AAPL\"},\n        {\"exchange\": \"NASDAQ\", \"symbol\": \"MSFT\"},\n    ],\n    fields=[\"total_revenue\"],\n)\n</code></pre>"},{"location":"scrapers/ideas/","title":"Ideas Scraper","text":""},{"location":"scrapers/ideas/#overview","title":"Overview","text":"<p>The Ideas scraper fetches user-published trading ideas from TradingView for a specified symbol. It supports pagination, sorting by popularity or recency, concurrent page scraping, and optional cookie authentication for captcha bypass.</p>"},{"location":"scrapers/ideas/#api","title":"API","text":""},{"location":"scrapers/ideas/#constructor","title":"Constructor","text":"<pre><code>from tv_scraper.scrapers.social import Ideas\n\nscraper = Ideas(\n    export_result=False,   # Whether to export results to file\n    export_type=\"json\",    # Export format: \"json\" or \"csv\"\n    timeout=10,            # HTTP timeout in seconds\n    cookie=None,           # TradingView session cookie (or set TRADINGVIEW_COOKIE env var)\n)\n</code></pre> Parameter Type Default Description <code>export_result</code> <code>bool</code> <code>False</code> Export results to file <code>export_type</code> <code>str</code> <code>\"json\"</code> Export format (<code>\"json\"</code> or <code>\"csv\"</code>) <code>timeout</code> <code>int</code> <code>10</code> HTTP request timeout in seconds <code>cookie</code> <code>str \\| None</code> <code>None</code> Session cookie for captcha bypass"},{"location":"scrapers/ideas/#get_ideas","title":"<code>get_ideas()</code>","text":"<pre><code>result = scraper.get_ideas(\n    exchange=\"CRYPTO\",\n    symbol=\"BTCUSD\",\n    start_page=1,\n    end_page=1,\n    sort_by=\"popular\",\n)\n</code></pre> Parameter Type Default Description <code>exchange</code> <code>str</code> \u2014 Exchange name (metadata only) <code>symbol</code> <code>str</code> \u2014 Trading symbol slug <code>start_page</code> <code>int</code> <code>1</code> First page to scrape <code>end_page</code> <code>int</code> <code>1</code> Last page to scrape (inclusive) <code>sort_by</code> <code>str</code> <code>\"popular\"</code> <code>\"popular\"</code> or <code>\"recent\"</code>"},{"location":"scrapers/ideas/#response-format","title":"Response Format","text":"<p>All responses use the standard envelope:</p> <pre><code>{\n  \"status\": \"success\",\n  \"data\": [\n    {\n      \"title\": \"BTCUSD: Bullish Breakout Confirmed\",\n      \"description\": \"Bitcoin has broken above the key resistance level of $45k...\",\n      \"author\": \"CryptoAnalyst99\",\n      \"comments_count\": 24,\n      \"views_count\": 1250,\n      \"likes_count\": 85,\n      \"timestamp\": 1705350400,\n      \"chart_url\": \"https://www.tradingview.com/chart/BTCUSD/abc123xyz/\",\n      \"preview_image\": [\"https://s3.tradingview.com/i/abc123xyz_mid.png\"]\n    }\n  ],\n  \"metadata\": {\n    \"exchange\": \"CRYPTO\",\n    \"symbol\": \"BTCUSD\",\n    \"sort_by\": \"popular\",\n    \"pages\": 1,\n    \"total\": 1\n  },\n  \"error\": null\n}\n</code></pre> <p>Each idea dict:</p> Field Type Description <code>title</code> <code>str</code> Idea title <code>description</code> <code>str</code> Content/description <code>preview_image</code> <code>list</code> Logo/preview image URLs <code>chart_url</code> <code>str</code> Link to TradingView chart <code>comments_count</code> <code>int</code> Number of comments <code>views_count</code> <code>int</code> Number of views <code>author</code> <code>str</code> Author username <code>likes_count</code> <code>int</code> Number of likes <code>timestamp</code> <code>int</code> Unix timestamp of publication"},{"location":"scrapers/ideas/#examples","title":"Examples","text":""},{"location":"scrapers/ideas/#basic-usage","title":"Basic Usage","text":"<pre><code>from tv_scraper.scrapers.social import Ideas\n\nscraper = Ideas()\nresult = scraper.get_ideas(exchange=\"CRYPTO\", symbol=\"BTCUSD\")\n\nif result[\"status\"] == \"success\":\n    for idea in result[\"data\"]:\n        print(f\"{idea['title']} by {idea['author']} ({idea['likes_count']} likes)\")\n</code></pre>"},{"location":"scrapers/ideas/#multi-page-scrape","title":"Multi-Page Scrape","text":"<pre><code>result = scraper.get_ideas(\n    exchange=\"CRYPTO\",\n    symbol=\"BTCUSD\",\n    start_page=1,\n    end_page=5,\n    sort_by=\"recent\",\n)\nprint(f\"Found {result['metadata']['total']} ideas across {result['metadata']['pages']} pages\")\n</code></pre>"},{"location":"scrapers/ideas/#with-cookie-authentication","title":"With Cookie Authentication","text":"<pre><code>scraper = Ideas(cookie=\"sessionid=abc123; _sp_id=xyz789\")\nresult = scraper.get_ideas(exchange=\"CRYPTO\", symbol=\"BTCUSD\")\n</code></pre> <p>Or set the <code>TRADINGVIEW_COOKIE</code> environment variable and omit the <code>cookie</code> parameter.</p>"},{"location":"scrapers/ideas/#export-to-file","title":"Export to File","text":"<pre><code>scraper = Ideas(export_result=True, export_type=\"csv\")\nresult = scraper.get_ideas(exchange=\"CRYPTO\", symbol=\"ETHUSD\", end_page=3)\n</code></pre>"},{"location":"scrapers/ideas/#migration-from-tradingview_scraper","title":"Migration from <code>tradingview_scraper</code>","text":"Old (<code>tradingview_scraper</code>) New (<code>tv_scraper</code>) <code>from tradingview_scraper.symbols.ideas import Ideas</code> <code>from tv_scraper.scrapers.social import Ideas</code> <code>Ideas(cookie=...)</code> <code>Ideas(cookie=..., timeout=10)</code> <code>.get_data(symbol=..., startPage=1, endPage=5, sort=\"popular\")</code> <code>.get_ideas(exchange=..., symbol=..., start_page=1, end_page=5, sort_by=\"popular\")</code> Returns <code>List[Dict]</code> Returns <code>Dict</code> with <code>status/data/metadata/error</code> envelope Returns <code>[]</code> on error Returns <code>{\"status\": \"failed\", \"data\": None, \"error\": \"...\"}</code> Raises on invalid args Never raises from public methods"},{"location":"scrapers/market_movers/","title":"Market Movers","text":""},{"location":"scrapers/market_movers/#overview","title":"Overview","text":"<p>The <code>MarketMovers</code> scraper retrieves top gainers, losers, most-active instruments, penny stocks, and pre-market / after-hours movers from TradingView's scanner API.</p>"},{"location":"scrapers/market_movers/#quick-start","title":"Quick Start","text":"<pre><code>from tv_scraper.scrapers.screening import MarketMovers\n\nmovers = MarketMovers()\nresult = movers.get_market_movers(market=\"stocks-usa\", category=\"gainers\", limit=20)\n\nfor stock in result[\"data\"]:\n    print(f\"{stock['symbol']}: {stock['change']}%\")\n</code></pre>"},{"location":"scrapers/market_movers/#api-reference","title":"API Reference","text":""},{"location":"scrapers/market_movers/#constructor","title":"Constructor","text":"<pre><code>MarketMovers(\n    export_result: bool = False,\n    export_type: str = \"json\",\n    timeout: int = 10,\n)\n</code></pre> Parameter Type Default Description <code>export_result</code> <code>bool</code> <code>False</code> Export results to a file. <code>export_type</code> <code>str</code> <code>\"json\"</code> Export format: <code>\"json\"</code> or <code>\"csv\"</code>. <code>timeout</code> <code>int</code> <code>10</code> HTTP request timeout in seconds."},{"location":"scrapers/market_movers/#get_market_movers","title":"<code>get_market_movers()</code>","text":"<pre><code>get_market_movers(\n    market: str = \"stocks-usa\",\n    category: str = \"gainers\",\n    fields: Optional[List[str]] = None,\n    limit: int = 50,\n) -&gt; Dict[str, Any]\n</code></pre> Parameter Type Default Description <code>market</code> <code>str</code> <code>\"stocks-usa\"</code> Market to query (see supported list). <code>category</code> <code>str</code> <code>\"gainers\"</code> Movers category (see supported list). <code>fields</code> <code>List[str]|None</code> <code>None</code> Columns to retrieve; <code>None</code> = defaults. <code>limit</code> <code>int</code> <code>50</code> Maximum number of results."},{"location":"scrapers/market_movers/#supported-markets","title":"Supported Markets","text":"<p><code>stocks-usa</code>, <code>stocks-uk</code>, <code>stocks-india</code>, <code>stocks-australia</code>, <code>stocks-canada</code>, <code>crypto</code>, <code>forex</code>, <code>bonds</code>, <code>futures</code>.</p>"},{"location":"scrapers/market_movers/#supported-categories","title":"Supported Categories","text":"<p>Stock markets: <code>gainers</code>, <code>losers</code>, <code>most-active</code>, <code>penny-stocks</code>, <code>pre-market-gainers</code>, <code>pre-market-losers</code>, <code>after-hours-gainers</code>, <code>after-hours-losers</code>.</p> <p>Non-stock markets: <code>gainers</code>, <code>losers</code>, <code>most-active</code>.</p>"},{"location":"scrapers/market_movers/#default-fields","title":"Default Fields","text":"<p><code>name</code>, <code>close</code>, <code>change</code>, <code>change_abs</code>, <code>volume</code>, <code>market_cap_basic</code>, <code>price_earnings_ttm</code>, <code>earnings_per_share_basic_ttm</code>, <code>logoid</code>, <code>description</code>.</p>"},{"location":"scrapers/market_movers/#response-format","title":"Response Format","text":"<p>All responses follow the standard envelope:</p> <pre><code>{\n    \"status\": \"success\",          # or \"failed\"\n    \"data\": [                     # list of dicts, or None on failure\n        {\n            \"symbol\": \"NASDAQ:AAPL\",\n            \"name\": \"Apple Inc.\",\n            \"close\": 190.5,\n            \"change\": 3.2,\n            ...\n        }\n    ],\n    \"metadata\": {\n        \"market\": \"stocks-usa\",\n        \"category\": \"gainers\",\n        \"total\": 20,\n    },\n    \"error\": None,                # error message string on failure\n}\n</code></pre>"},{"location":"scrapers/market_movers/#examples","title":"Examples","text":""},{"location":"scrapers/market_movers/#losers-and-most-active","title":"Losers and Most Active","text":"<pre><code>movers = MarketMovers()\n\nlosers = movers.get_market_movers(category=\"losers\", limit=10)\nactive = movers.get_market_movers(category=\"most-active\", limit=10)\n</code></pre>"},{"location":"scrapers/market_movers/#pre-market-after-hours","title":"Pre-Market / After-Hours","text":"<pre><code>pre_gainers = movers.get_market_movers(category=\"pre-market-gainers\")\nah_losers   = movers.get_market_movers(category=\"after-hours-losers\")\n</code></pre>"},{"location":"scrapers/market_movers/#custom-fields","title":"Custom Fields","text":"<pre><code>result = movers.get_market_movers(\n    fields=[\"name\", \"close\", \"change\", \"volume\"],\n    limit=5,\n)\n</code></pre>"},{"location":"scrapers/market_movers/#multiple-markets","title":"Multiple Markets","text":"<pre><code>for mkt in [\"stocks-usa\", \"crypto\", \"forex\"]:\n    r = movers.get_market_movers(market=mkt, category=\"gainers\", limit=5)\n    print(f\"{mkt}: {len(r['data'])} results\")\n</code></pre>"},{"location":"scrapers/market_movers/#export-to-csv","title":"Export to CSV","text":"<pre><code>movers = MarketMovers(export_result=True, export_type=\"csv\")\nmovers.get_market_movers(market=\"stocks-usa\", category=\"gainers\")\n# File saved to export/ directory\n</code></pre>"},{"location":"scrapers/market_movers/#migration-from-tradingview_scraper","title":"Migration from <code>tradingview_scraper</code>","text":"Old (<code>tradingview_scraper</code>) New (<code>tv_scraper</code>) <code>from tradingview_scraper.symbols.market_movers import MarketMovers</code> <code>from tv_scraper.scrapers.screening import MarketMovers</code> Raises <code>ValueError</code> on invalid market/category Returns error response (never raises) Response: <code>{\"status\", \"data\", \"total\"}</code> Response: <code>{\"status\", \"data\", \"metadata\", \"error\"}</code> <code>result[\"total\"]</code> <code>result[\"metadata\"][\"total\"]</code> No <code>timeout</code> parameter Constructor accepts <code>timeout</code>"},{"location":"scrapers/markets/","title":"Markets Scraper","text":""},{"location":"scrapers/markets/#overview","title":"Overview","text":"<p>The <code>Markets</code> scraper retrieves ranked stock lists from TradingView's scanner API across multiple market regions. Stocks can be sorted by market cap, volume, price change, closing price, or volatility.</p>"},{"location":"scrapers/markets/#quick-start","title":"Quick Start","text":"<pre><code>from tv_scraper.scrapers.market_data import Markets\n\nmarkets = Markets()\nresult = markets.get_markets(market=\"america\", sort_by=\"market_cap\", limit=20)\n\nfor stock in result[\"data\"]:\n    print(stock[\"symbol\"], stock[\"close\"], stock[\"market_cap_basic\"])\n</code></pre>"},{"location":"scrapers/markets/#api-reference","title":"API Reference","text":""},{"location":"scrapers/markets/#constructor","title":"Constructor","text":"<pre><code>Markets(export_result: bool = False, export_type: str = \"json\", timeout: int = 10)\n</code></pre> Parameter Type Default Description <code>export_result</code> <code>bool</code> <code>False</code> Whether to export results to file <code>export_type</code> <code>str</code> <code>\"json\"</code> Export format (<code>\"json\"</code> or <code>\"csv\"</code>) <code>timeout</code> <code>int</code> <code>10</code> HTTP request timeout in seconds"},{"location":"scrapers/markets/#get_markets","title":"<code>get_markets()</code>","text":"<pre><code>get_markets(\n    market: str = \"america\",\n    sort_by: str = \"market_cap\",\n    fields: Optional[List[str]] = None,\n    sort_order: str = \"desc\",\n    limit: int = 50,\n) -&gt; Dict[str, Any]\n</code></pre> Parameter Type Default Description <code>market</code> <code>str</code> <code>\"america\"</code> Market region to scan <code>sort_by</code> <code>str</code> <code>\"market_cap\"</code> Sort criterion key <code>fields</code> <code>List[str]|None</code> <code>None</code> Scanner fields; defaults to built-in <code>sort_order</code> <code>str</code> <code>\"desc\"</code> <code>\"desc\"</code> or <code>\"asc\"</code> <code>limit</code> <code>int</code> <code>50</code> Maximum number of results"},{"location":"scrapers/markets/#supported-markets","title":"Supported Markets","text":"Key Region <code>america</code> United States <code>australia</code> Australia <code>canada</code> Canada <code>germany</code> Germany <code>india</code> India <code>uk</code> United Kingdom <code>crypto</code> Cryptocurrency <code>forex</code> Forex <code>global</code> All markets"},{"location":"scrapers/markets/#sort-criteria","title":"Sort Criteria","text":"Key Scanner Field Description <code>market_cap</code> <code>market_cap_basic</code> Market capitalization <code>volume</code> <code>volume</code> Trading volume <code>change</code> <code>change</code> Price change percentage <code>price</code> <code>close</code> Current closing price <code>volatility</code> <code>Volatility.D</code> Daily volatility"},{"location":"scrapers/markets/#default-fields","title":"Default Fields","text":"<p><code>name</code>, <code>close</code>, <code>change</code>, <code>change_abs</code>, <code>volume</code>, <code>Recommend.All</code>, <code>market_cap_basic</code>, <code>price_earnings_ttm</code>, <code>earnings_per_share_basic_ttm</code>, <code>sector</code>, <code>industry</code></p>"},{"location":"scrapers/markets/#response-format","title":"Response Format","text":"<pre><code>{\n    \"status\": \"success\",\n    \"data\": [\n        {\n            \"symbol\": \"NASDAQ:AAPL\",\n            \"name\": \"Apple Inc.\",\n            \"close\": 150.25,\n            \"change\": 2.5124,\n            \"change_abs\": 3.68,\n            \"volume\": 54231200,\n            \"Recommend.All\": 0.5,\n            \"market_cap_basic\": 2500000000000.0,\n            \"price_earnings_ttm\": 28.5,\n            \"earnings_per_share_basic_ttm\": 5.2,\n            \"sector\": \"Electronic Technology\",\n            \"industry\": \"Telecommunications Equipment\"\n        },\n        {\n            \"symbol\": \"NASDAQ:MSFT\",\n            \"name\": \"Microsoft Corp.\",\n            \"close\": 310.15,\n            \"change\": -1.2,\n            \"change_abs\": -3.75,\n            \"volume\": 28145000,\n            \"Recommend.All\": 0.45,\n            \"market_cap_basic\": 2300000000000.0,\n            \"price_earnings_ttm\": 32.1,\n            \"earnings_per_share_basic_ttm\": 9.5,\n            \"sector\": \"Technology Services\",\n            \"industry\": \"Packaged Software\"\n        }\n    ],\n    \"metadata\": {\n        \"market\": \"america\",\n        \"sort_by\": \"market_cap\",\n        \"total\": 2,\n        \"total_count\": 5000\n    },\n    \"error\": null\n}\n</code></pre>"},{"location":"scrapers/markets/#examples","title":"Examples","text":""},{"location":"scrapers/markets/#most-active-stocks-by-volume","title":"Most Active Stocks by Volume","text":"<pre><code>result = markets.get_data(market=\"america\", sort_by=\"volume\", limit=15)\n</code></pre>"},{"location":"scrapers/markets/#top-indian-stocks-ascending-by-price","title":"Top Indian Stocks Ascending by Price","text":"<pre><code>result = markets.get_data(market=\"india\", sort_by=\"price\", sort_order=\"asc\", limit=10)\n</code></pre>"},{"location":"scrapers/markets/#custom-fields","title":"Custom Fields","text":"<pre><code>result = markets.get_data(\n    fields=[\"name\", \"close\", \"volume\", \"market_cap_basic\", \"sector\"],\n    limit=10,\n)\n</code></pre>"},{"location":"scrapers/markets/#export-to-csv","title":"Export to CSV","text":"<pre><code>markets = Markets(export_result=True, export_type=\"csv\")\nresult = markets.get_data(market=\"uk\", sort_by=\"market_cap\")\n</code></pre>"},{"location":"scrapers/markets/#migration-from-tradingview_scraper","title":"Migration from <code>tradingview_scraper</code>","text":"Old (<code>tradingview_scraper</code>) New (<code>tv_scraper</code>) <code>from tradingview_scraper.symbols.markets import Markets</code> <code>from tv_scraper.scrapers.market_data import Markets</code> <code>get_top_stocks(by=\"market_cap\")</code> <code>get_top_stocks(sort_by=\"market_cap\")</code> <code>get_top_stocks(columns=[...])</code> <code>get_top_stocks(fields=[...])</code> Raises <code>ValueError</code> on invalid input Returns error response (<code>status=\"failed\"</code>) Response: <code>{\"status\", \"data\", \"total\", \"totalCount\"}</code> Response: <code>{\"status\", \"data\", \"metadata\", \"error\"}</code> No <code>sort_order</code> parameter <code>sort_order=\"desc\"</code> (or <code>\"asc\"</code>) parameter added"},{"location":"scrapers/minds/","title":"Minds Community Discussions","text":""},{"location":"scrapers/minds/#overview","title":"Overview","text":"<p>The <code>Minds</code> scraper fetches community-generated discussions from TradingView's Minds feature, including questions, trading ideas, and sentiment.</p>"},{"location":"scrapers/minds/#api","title":"API","text":"<pre><code>from tv_scraper.scrapers.social import Minds\n\nscraper = Minds(export_result=False, export_type=\"json\")\nresult = scraper.get_minds(exchange=\"NASDAQ\", symbol=\"AAPL\", limit=50)\n</code></pre>"},{"location":"scrapers/minds/#constructor","title":"Constructor","text":"Parameter Type Default Description <code>export_result</code> <code>bool</code> <code>False</code> Whether to export results to file <code>export_type</code> <code>str</code> <code>\"json\"</code> Export format: <code>\"json\"</code> or `\"csv\" <code>timeout</code> <code>int</code> <code>10</code> HTTP request timeout in seconds"},{"location":"scrapers/minds/#get_minds","title":"<code>get_minds()</code>","text":"Parameter Type Default Description <code>exchange</code> <code>str</code> \u2014 Exchange name (e.g. <code>\"NASDAQ\"</code>) <code>symbol</code> <code>str</code> \u2014 Trading symbol (e.g. <code>\"AAPL\"</code>) <code>limit</code> <code>Optional[int]</code> <code>None</code> Max results to retrieve. <code>None</code> = fetch all"},{"location":"scrapers/minds/#response-format","title":"Response Format","text":"<p>All responses use the standard envelope:</p> <pre><code>{\n  \"status\": \"success\",\n  \"data\": [\n    {\n      \"text\": \"AAPL looking bullish today\",\n      \"url\": \"https://www.tradingview.com/minds/abc123\",\n      \"author\": {\n        \"username\": \"trader1\",\n        \"profile_url\": \"https://www.tradingview.com/u/trader1/\",\n        \"is_broker\": false\n      },\n      \"created\": \"2025-01-07 12:00:00\",\n      \"total_likes\": 10,\n      \"total_comments\": 5\n    },\n    ...\n  ],\n  \"metadata\": {\n    \"total\": 42,\n    \"pages\": 2,\n    \"symbol_info\": {\"short_name\": \"AAPL\", \"exchange\": \"NASDAQ\"}\n  },\n  \"error\": null\n}\n</code></pre>"},{"location":"scrapers/minds/#mind-item-schema","title":"Mind Item Schema","text":"<p>Each item in the <code>data</code> array contains:</p> <pre><code>{\n  \"text\": \"AAPL looking bullish today\",\n  \"url\": \"https://www.tradingview.com/minds/abc123\",\n  \"author\": {\n    \"username\": \"trader1\",\n    \"profile_url\": \"https://www.tradingview.com/u/trader1/\",\n    \"is_broker\": false\n  },\n  \"created\": \"2025-01-07 12:00:00\",\n  \"total_likes\": 10,\n  \"total_comments\": 5\n}\n</code></pre>"},{"location":"scrapers/minds/#examples","title":"Examples","text":""},{"location":"scrapers/minds/#basic-usage","title":"Basic Usage","text":"<pre><code>from tv_scraper.scrapers.social import Minds\n\nscraper = Minds()\nresult = scraper.get_minds(exchange=\"NASDAQ\", symbol=\"AAPL\")\n\nif result[\"status\"] == \"success\":\n    for mind in result[\"data\"]:\n        print(f\"{mind['author']['username']}: {mind['text'][:60]}...\")\n</code></pre>"},{"location":"scrapers/minds/#with-limit","title":"With Limit","text":"<pre><code>result = scraper.get_minds(exchange=\"BITSTAMP\", symbol=\"BTCUSD\", limit=20)\nprint(f\"Retrieved {result['metadata']['total']} discussions\")\n</code></pre>"},{"location":"scrapers/minds/#with-export","title":"With Export","text":"<pre><code>scraper = Minds(export_result=True, export_type=\"csv\")\nresult = scraper.get_minds(exchange=\"NYSE\", symbol=\"TSLA\")\n</code></pre>"},{"location":"scrapers/minds/#migration-from-tradingview_scraper","title":"Migration from <code>tradingview_scraper</code>","text":"Old (<code>tradingview_scraper</code>) New (<code>tv_scraper</code>) <code>from tradingview_scraper.symbols.minds import Minds</code> <code>from tv_scraper.scrapers.social import Minds</code> <code>minds.get_data(symbol=\"NASDAQ:AAPL\")</code> <code>minds.get_minds(exchange=\"NASDAQ\", symbol=\"AAPL\")</code> Response: <code>{\"status\", \"data\", \"total\", \"pages\", ...}</code> Response: <code>{\"status\", \"data\", \"metadata\", \"error\"}</code> Empty results \u2192 <code>{\"status\": \"failed\"}</code> Empty results \u2192 <code>{\"status\": \"success\", \"data\": []}</code>"},{"location":"scrapers/minds/#key-changes","title":"Key Changes","text":"<ol> <li>Separate <code>exchange</code> and <code>symbol</code> parameters \u2014 no more combined <code>\"EXCHANGE:SYMBOL\"</code> strings.</li> <li>Standard response envelope \u2014 all responses have <code>status</code>, <code>data</code>, <code>metadata</code>, <code>error</code>.</li> <li>Empty results are success \u2014 an empty list is valid data, not an error.</li> <li>Exchange validation \u2014 invalid exchanges are caught before making HTTP calls.</li> </ol>"},{"location":"scrapers/news/","title":"News Scraper","text":""},{"location":"scrapers/news/#overview","title":"Overview","text":"<p>Scrape headlines and full article content from TradingView news providers.</p>"},{"location":"scrapers/news/#quick-start","title":"Quick Start","text":"<pre><code>from tv_scraper.scrapers.social import News\n\nscraper = News()\n\n# Get news\nresult = scraper.get_news_headlines(exchange=\"BINANCE\", symbol=\"BTCUSD\")\nif result[\"status\"] == \"success\":\n    for item in result[\"data\"]:\n        print(item[\"title\"])\n\n# Get full article content using the 'id' from news\nif result[\"status\"] == \"success\" and result[\"data\"]:\n    article_id = result[\"data\"][0][\"id\"]\n    content = scraper.get_news_content(story_id=article_id)\n    print(content[\"data\"][\"title\"])\n</code></pre>"},{"location":"scrapers/news/#api-reference","title":"API Reference","text":""},{"location":"scrapers/news/#constructor","title":"Constructor","text":"<pre><code>News(export_result=False, export_type=\"json\", timeout=10, cookie=None)\n</code></pre> Parameter Type Default Description <code>export_result</code> bool <code>False</code> Export results to file <code>export_type</code> str <code>\"json\"</code> <code>\"json\"</code> or <code>\"csv\"</code> <code>timeout</code> int <code>10</code> HTTP request timeout in seconds <code>cookie</code> str <code>None</code> TradingView cookie for captcha"},{"location":"scrapers/news/#get_news_headlines","title":"<code>get_news_headlines()</code>","text":"<pre><code>get_news_headlines(\n    exchange: str,\n    symbol: str,\n    provider: str | None = None,\n    area: str | None = None,\n    sort_by: str = \"latest\",\n    section: str = \"all\",\n    language: str = \"en\",\n) -&gt; Dict[str, Any]\n</code></pre> Parameter Type Default Description <code>exchange</code> str \u2014 Exchange name (e.g. <code>\"BINANCE\"</code>) <code>symbol</code> str \u2014 Trading symbol (e.g. <code>\"BTCUSD\"</code>) <code>provider</code> str | None <code>None</code> News provider (e.g. <code>\"cointelegraph\"</code>) <code>area</code> str | None <code>None</code> Region: <code>world</code>, <code>americas</code>, <code>europe</code>, <code>asia</code>, <code>oceania</code>, <code>africa</code> <code>sort_by</code> str <code>\"latest\"</code> <code>latest</code>, <code>oldest</code>, <code>most_urgent</code>, <code>least_urgent</code> <code>section</code> str <code>\"all\"</code> <code>all</code>, <code>esg</code>, <code>press_release</code>, <code>financial_statement</code> <code>language</code> str <code>\"en\"</code> Language code (e.g. <code>\"en\"</code>, <code>\"fr\"</code>, <code>\"ja\"</code>)"},{"location":"scrapers/news/#get_news_content","title":"<code>get_news_content()</code>","text":"<pre><code>get_news_content(\n    story_id: str,\n    language: str = \"en\",\n) -&gt; Dict[str, Any]\n</code></pre> Parameter Type Default Description <code>story_id</code> str \u2014 Story ID from news API (e.g. <code>\"tag:reuters.com,2026:newsml_L4N3Z9104:0\"</code>) <code>language</code> str <code>\"en\"</code> Language code (e.g. <code>\"en\"</code>, <code>\"fr\"</code>)"},{"location":"scrapers/news/#response-format","title":"Response Format","text":"<p>All methods return a standardized response envelope:</p> <pre><code>{\n  \"status\": \"success\",\n  \"data\": [\n    {\n      \"id\": \"tag:reuters.com,2026:newsml_L4N3Z9104:0\",\n      \"title\": \"Bitcoin Surges as Institutional Interest Grows\",\n      \"shortDescription\": \"Bitcoin reached new highs today as institutional investors...\",\n      \"published\": 1705350000,\n      \"storyPath\": \"/news/story_12345-bitcoin-surges/\"\n    },\n    ...\n  ],\n  \"metadata\": {\n    \"exchange\": \"BINANCE\",\n    \"symbol\": \"BTCUSD\",\n    \"total\": 25\n  },\n  \"error\": null\n}\n</code></pre>"},{"location":"scrapers/news/#news-schema","title":"News Schema","text":"<p>Each item in the <code>data</code> array contains:</p> <pre><code>{\n  \"id\": \"tag:reuters.com,2026:newsml_L4N3Z9104:0\",\n  \"title\": \"Bitcoin Hits New High\",\n  \"shortDescription\": \"Brief summary of the news article...\",\n  \"published\": 1678900000,\n  \"storyPath\": \"/news/story/12345\"\n}\n</code></pre>"},{"location":"scrapers/news/#article-content-response","title":"Article Content Response","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"title\": \"Bitcoin Hits New High\",\n    \"description\": \"Full article content with paragraphs separated by newlines.\\nSecond paragraph here...\",\n    \"published\": 1643097623,\n    \"storyPath\": \"/news/story/12345\"\n  },\n  \"metadata\": {\n    \"story_id\": \"tag:reuters.com,2026:newsml_L4N3Z9104:0\"\n  },\n  \"error\": null\n}\n</code></pre>"},{"location":"scrapers/news/#migration-from-newsscraper","title":"Migration from <code>NewsScraper</code>","text":"Old (<code>tradingview_scraper</code>) New (<code>tv_scraper</code>) <code>from tradingview_scraper.symbols.news import NewsScraper</code> <code>from tv_scraper.scrapers.social import News</code> <code>NewsScraper(cookie=cookie)</code> <code>News(cookie=cookie)</code> <code>scraper.get_headlines(symbol=..., exchange=...)</code> <code>scraper.get_news_headlines(exchange=..., symbol=...)</code> <code>sort=\"latest\"</code> <code>sort_by=\"latest\"</code> <code>scraper.scrape_news_content(story_path)</code> <code>scraper.get_news_content(story_id)</code> Returns <code>list</code> of headlines Returns <code>{\"status\", \"data\", \"metadata\", \"error\"}</code> Raises <code>ValueError</code> / <code>RuntimeError</code> Returns error response, never raises"},{"location":"scrapers/news/#key-changes","title":"Key Changes","text":"<ol> <li>Class rename: <code>NewsScraper</code> \u2192 <code>News</code></li> <li>Parameter order: <code>exchange</code> before <code>symbol</code> (was <code>symbol</code> first)</li> <li>Parameter rename: <code>sort</code> \u2192 <code>sort_by</code></li> <li>Method rename: <code>scrape_news_content()</code> \u2192 <code>get_news_content()</code></li> <li>Response format: All methods return a standardized envelope dict instead of raw lists/dicts</li> <li>Error handling: Never raises \u2014 always returns <code>{\"status\": \"failed\", ...}</code> on error</li> <li>Inherits: <code>BaseScraper</code> for shared functionality (export, validation, HTTP)</li> </ol>"},{"location":"scrapers/options/","title":"Options","text":""},{"location":"scrapers/options/#overview","title":"Overview","text":"<p>The <code>Options</code> scraper retrieves option chain data for a given underlying symbol via the TradingView options scanner API. It supports fetching chains filtered by either expiration date or strike price.</p>"},{"location":"scrapers/options/#quick-start","title":"Quick Start","text":"<pre><code>from tv_scraper.scrapers.market_data import Options\n\nscraper = Options()\n\n# Get option chain by expiration date\nresult = scraper.get_options_by_expiry(\n    exchange=\"BSE\",\n    symbol=\"SENSEX\",\n    expiration=20260219,\n    root=\"BSX\"\n)\nprint(result[\"data\"])\n\n# Get option chain by strike price\nresult = scraper.get_options_by_strike(\n    exchange=\"BSE\",\n    symbol=\"SENSEX\",\n    strike=83300\n)\n</code></pre>"},{"location":"scrapers/options/#constructor","title":"Constructor","text":"<pre><code>Options(\n    export_result: bool = False,\n    export_type: str = \"json\",   # \"json\" or \"csv\"\n    timeout: int = 10,\n)\n</code></pre>"},{"location":"scrapers/options/#methods","title":"Methods","text":""},{"location":"scrapers/options/#get_options_by_expiryexchange-symbol-expiration-root-columnsnone","title":"<code>get_options_by_expiry(exchange, symbol, expiration, root, columns=None)</code>","text":"<p>Fetch the option chain for a specific expiration date.</p> Parameter Type Default Description <code>exchange</code> <code>str</code> \u2014 Exchange name (e.g. <code>\"BSE\"</code>) <code>symbol</code> <code>str</code> \u2014 Underlying symbol (e.g. <code>\"SENSEX\"</code>) <code>expiration</code> <code>int</code> \u2014 Expiry date in YYYYMMDD format (e.g. <code>20260219</code>) <code>root</code> <code>str</code> \u2014 Root symbol for the option (e.g. <code>\"BSX\"</code>) <code>columns</code> <code>list[str] \\| None</code> <code>None</code> Specific data columns to retrieve."},{"location":"scrapers/options/#get_options_by_strikeexchange-symbol-strike-columnsnone","title":"<code>get_options_by_strike(exchange, symbol, strike, columns=None)</code>","text":"<p>Fetch options across all expirations for a specific strike price.</p> Parameter Type Default Description <code>exchange</code> <code>str</code> \u2014 Exchange name (e.g. <code>\"BSE\"</code>) <code>symbol</code> <code>str</code> \u2014 Underlying symbol (e.g. <code>\"SENSEX\"</code>) <code>strike</code> <code>int \\| float</code> \u2014 Strike price (e.g. <code>83300</code>) <code>columns</code> <code>list[str] \\| None</code> <code>None</code> Specific data columns to retrieve."},{"location":"scrapers/options/#default-columns","title":"Default Columns","text":"<p>If <code>columns</code> is not specified, the following fields are retrieved:</p> <p><code>ask</code>, <code>bid</code>, <code>currency</code>, <code>delta</code>, <code>expiration</code>, <code>gamma</code>, <code>iv</code>, <code>option-type</code>, <code>pricescale</code>, <code>rho</code>, <code>root</code>, <code>strike</code>, <code>theoPrice</code>, <code>theta</code>, <code>vega</code>, <code>bid_iv</code>, <code>ask_iv</code></p>"},{"location":"scrapers/options/#response-format","title":"Response Format","text":"<p>Returns a standardized response envelope:</p> <pre><code>{\n    \"status\": \"success\",\n    \"data\": [\n        {\n            \"symbol\": \"BSE:BSX260219C83300\",\n            \"ask\": 251.5,\n            \"bid\": 250.05,\n            \"currency\": \"INR\",\n            \"delta\": 0.30031253196887614,\n            \"expiration\": 20260219,\n            \"gamma\": 0.0002619084231041657,\n            \"iv\": 0.12206886452622712,\n            \"option-type\": \"call\",\n            \"pricescale\": 100,\n            \"rho\": 4.260193630531909,\n            \"root\": \"BSX\",\n            \"strike\": 83300,\n            \"theoPrice\": 251.05,\n            \"theta\": -36.46051324424114,\n            \"vega\": 37.841028744369176,\n            \"bid_iv\": 0.12179930401016525,\n            \"ask_iv\": 0.12218255530179331\n        },\n        ...(other objects)\n    ],\n    \"metadata\": {\n        \"exchange\": \"BSE\",\n        \"symbol\": \"SENSEX\",\n        \"filter_type\": \"expiry\",\n        \"filter_value\": 20260219,\n        \"total\": 14\n    },\n    \"error\": null\n}\n</code></pre>"},{"location":"scrapers/overview/","title":"Overview","text":""},{"location":"scrapers/overview/#overview_1","title":"Overview","text":"<p>The Overview module provides comprehensive functionality to retrieve detailed information about financial symbols from TradingView, including profile data, market statistics, financial metrics, performance indicators, and technical analysis.</p>"},{"location":"scrapers/overview/#import","title":"Import","text":"<pre><code>from tv_scraper.scrapers.market_data import Overview\n</code></pre>"},{"location":"scrapers/overview/#constructor","title":"Constructor","text":"<pre><code>Overview(export_result: bool = False, export_type: str = \"json\", timeout: int = 10)\n</code></pre> <p>Parameters:</p> Parameter Type Default Description <code>export_result</code> <code>bool</code> <code>False</code> Whether to export results to a file <code>export_type</code> <code>str</code> <code>\"json\"</code> Export format: <code>\"json\"</code> or <code>\"csv\"</code> <code>timeout</code> <code>int</code> <code>10</code> HTTP request timeout in seconds"},{"location":"scrapers/overview/#methods","title":"Methods","text":""},{"location":"scrapers/overview/#get_overview","title":"<code>get_overview</code>","text":"<pre><code>get_overview(\n    exchange: str,\n    symbol: str,\n    fields: Optional[List[str]] = None,\n) -&gt; Dict[str, Any]\n</code></pre> <p>Get comprehensive overview data for a symbol. When <code>fields</code> is <code>None</code>, all fields from every category are fetched.</p> <p>Parameters:</p> Parameter Type Required Description <code>exchange</code> <code>str</code> Yes Exchange name (e.g. <code>\"NASDAQ\"</code>, <code>\"BITSTAMP\"</code>) <code>symbol</code> <code>str</code> Yes Trading symbol (e.g. <code>\"AAPL\"</code>, <code>\"BTCUSD\"</code>) <code>fields</code> <code>List[str]</code> No Specific fields to retrieve. Defaults to all fields."},{"location":"scrapers/overview/#category-methods","title":"Category Methods","text":"<p>Each category method takes <code>exchange</code> and <code>symbol</code> and internally calls <code>get_overview</code> with predefined field lists:</p> Method Fields Used <code>get_profile(exchange, symbol)</code> <code>BASIC_FIELDS</code> \u2014 name, description, type, subtype, exchange, country, sector, industry <code>get_statistics(exchange, symbol)</code> <code>MARKET_FIELDS + VALUATION_FIELDS + DIVIDEND_FIELDS</code> \u2014 market cap, shares, P/E, EPS, dividends <code>get_financials(exchange, symbol)</code> <code>FINANCIAL_FIELDS</code> \u2014 revenue, margins, ROE, ROA, EBITDA, employees <code>get_performance(exchange, symbol)</code> <code>PERFORMANCE_FIELDS</code> \u2014 weekly, monthly, quarterly, yearly returns <code>get_technicals(exchange, symbol)</code> <code>TECHNICAL_FIELDS + VOLATILITY_FIELDS</code> \u2014 RSI, MACD, ADX, volatility, beta"},{"location":"scrapers/overview/#response-format","title":"Response Format","text":"<p>All methods return a standardised 4-key envelope:</p> <pre><code>{\n    \"status\": \"success\",          # or \"failed\"\n    \"data\": {                     # None on failure\n        \"symbol\": \"NASDAQ:AAPL\",\n        \"close\": 150.25,\n        \"market_cap_basic\": 2500000000000,\n        ...\n    },\n    \"metadata\": {\n        \"exchange\": \"NASDAQ\",\n        \"symbol\": \"AAPL\",\n    },\n    \"error\": None                 # error message string on failure\n}\n</code></pre>"},{"location":"scrapers/overview/#code-examples","title":"Code Examples","text":""},{"location":"scrapers/overview/#basic-usage","title":"Basic Usage","text":"<pre><code>from tv_scraper.scrapers.market_data import Overview\n\noverview = Overview()\nresult = overview.get_overview(exchange=\"NASDAQ\", symbol=\"AAPL\")\n\nif result[\"status\"] == \"success\":\n    data = result[\"data\"]\n    print(f\"Price: {data['close']}\")\n    print(f\"Market Cap: {data['market_cap_basic']}\")\n</code></pre>"},{"location":"scrapers/overview/#custom-fields","title":"Custom Fields","text":"<pre><code>result = overview.get_overview(\n    exchange=\"BITSTAMP\",\n    symbol=\"BTCUSD\",\n    fields=[\"close\", \"volume\", \"change\"],\n)\n</code></pre>"},{"location":"scrapers/overview/#category-methods_1","title":"Category Methods","text":"<pre><code># Profile\nprofile = overview.get_profile(exchange=\"NASDAQ\", symbol=\"AAPL\")\n\n# Financial metrics\nfinancials = overview.get_financials(exchange=\"NASDAQ\", symbol=\"AAPL\")\n\n# Technical indicators\ntechnicals = overview.get_technicals(exchange=\"NASDAQ\", symbol=\"AAPL\")\n</code></pre>"},{"location":"scrapers/overview/#exporting-results","title":"Exporting Results","text":"<pre><code>overview = Overview(export_result=True, export_type=\"csv\")\nresult = overview.get_overview(exchange=\"NASDAQ\", symbol=\"AAPL\")\n# File saved to export/ directory\n</code></pre>"},{"location":"scrapers/overview/#migration-from-old-api","title":"Migration from Old API","text":"Old API New API <code>from tradingview_scraper.symbols.overview import Overview</code> <code>from tv_scraper.scrapers.market_data import Overview</code> <code>overview.get_symbol_overview(symbol=\"NASDAQ:AAPL\")</code> <code>overview.get_overview(exchange=\"NASDAQ\", symbol=\"AAPL\")</code> <code>overview.get_profile(\"NASDAQ:AAPL\")</code> <code>overview.get_profile(exchange=\"NASDAQ\", symbol=\"AAPL\")</code> Combined symbol <code>\"EXCHANGE:SYMBOL\"</code> Separate <code>exchange</code> and <code>symbol</code> parameters Response: <code>{\"status\", \"data\", \"error\"}</code> Response: <code>{\"status\", \"data\", \"metadata\", \"error\"}</code>"},{"location":"scrapers/screener/","title":"Screener","text":""},{"location":"scrapers/screener/#overview","title":"Overview","text":"<p>The <code>Screener</code> module screens financial instruments across 18 markets (stocks, crypto, forex, bonds, futures, CFDs) using the TradingView scanner API with custom filters, sorting, and field selection.</p>"},{"location":"scrapers/screener/#quick-start","title":"Quick Start","text":"<pre><code>from tv_scraper.scrapers.screening import Screener\n\nscreener = Screener()\n\n# Basic US stock screen\nresult = screener.get_screener(market=\"america\", limit=10)\n\n# Screen with filters and sorting\nresult = screener.get_screener(\n    market=\"america\",\n    filters=[\n        {\"left\": \"close\", \"operation\": \"greater\", \"right\": 100},\n        {\"left\": \"volume\", \"operation\": \"greater\", \"right\": 1000000},\n    ],\n    sort_by=\"volume\",\n    sort_order=\"desc\",\n    limit=20,\n)\n\nfor stock in result[\"data\"]:\n    print(f\"{stock['symbol']}: ${stock['close']} - Vol: {stock['volume']}\")\n</code></pre>"},{"location":"scrapers/screener/#api-reference","title":"API Reference","text":""},{"location":"scrapers/screener/#constructor","title":"Constructor","text":"<pre><code>Screener(\n    export_result: bool = False,\n    export_type: str = \"json\",\n    timeout: int = 10,\n)\n</code></pre> Parameter Type Default Description <code>export_result</code> <code>bool</code> <code>False</code> Whether to export results to file. <code>export_type</code> <code>str</code> <code>\"json\"</code> Export format: <code>\"json\"</code> or <code>\"csv\"</code>. <code>timeout</code> <code>int</code> <code>10</code> HTTP timeout in seconds."},{"location":"scrapers/screener/#get_screener-method","title":"<code>get_screener()</code> Method","text":"<pre><code>get_screener(\n    market: str = \"america\",\n    filters: Optional[List[Dict[str, Any]]] = None,\n    fields: Optional[List[str]] = None,\n    sort_by: Optional[str] = None,\n    sort_order: str = \"desc\",\n    limit: int = 50,\n) -&gt; Dict[str, Any]\n</code></pre> Parameter Type Default Description <code>market</code> <code>str</code> <code>\"america\"</code> Market to screen. <code>filters</code> <code>List[Dict]</code> or <code>None</code> <code>None</code> Filter conditions. <code>fields</code> <code>List[str]</code> or <code>None</code> <code>None</code> Columns to retrieve (market defaults). <code>sort_by</code> <code>str</code> or <code>None</code> <code>None</code> Field to sort by. <code>sort_order</code> <code>str</code> <code>\"desc\"</code> Sort direction: <code>\"asc\"</code> or <code>\"desc\"</code>. <code>limit</code> <code>int</code> <code>50</code> Maximum number of results."},{"location":"scrapers/screener/#response-format","title":"Response Format","text":"<p>All responses use the standardized envelope:</p> <pre><code>{\n    \"status\": \"success\",\n    \"data\": [\n        {\n            \"symbol\": \"NASDAQ:AAPL\",\n            \"name\": \"Apple Inc.\",\n            \"close\": 150.25,\n            \"change\": 2.512,\n            \"change_abs\": 3.68,\n            \"volume\": 54231000,\n            \"market_cap_basic\": 2500000000000.0,\n            \"price_earnings_ttm\": 28.5,\n            \"earnings_per_share_basic_ttm\": 5.2,\n            \"sector\": \"Electronic Technology\"\n        },\n        {\n            \"symbol\": \"NYSE:TSLA\",\n            \"name\": \"Tesla, Inc.\",\n            \"close\": 210.5,\n            \"change\": 1.15,\n            \"change_abs\": 2.4,\n            \"volume\": 85000000,\n            \"market_cap_basic\": 600000000000.0,\n            \"price_earnings_ttm\": 65.2,\n            \"earnings_per_share_basic_ttm\": 3.2,\n            \"sector\": \"Consumer Durables\"\n        }\n    ],\n    \"metadata\": {\n        \"market\": \"america\",\n        \"total\": 2,\n        \"total_available\": 1500\n    },\n    \"error\": null\n}\n</code></pre>"},{"location":"scrapers/screener/#supported-markets","title":"Supported Markets","text":"Key Description <code>america</code> US Stocks <code>australia</code> Australian Stocks <code>canada</code> Canadian Stocks <code>germany</code> German Stocks <code>india</code> Indian Stocks <code>israel</code> Israeli Stocks <code>italy</code> Italian Stocks <code>luxembourg</code> Luxembourg Stocks <code>mexico</code> Mexican Stocks <code>spain</code> Spanish Stocks <code>turkey</code> Turkish Stocks <code>uk</code> UK Stocks <code>crypto</code> Cryptocurrencies <code>forex</code> Forex Pairs <code>cfd</code> CFDs <code>futures</code> Futures <code>bonds</code> Bonds <code>global</code> Global Markets"},{"location":"scrapers/screener/#filter-operations","title":"Filter Operations","text":"Operation Description Example <code>greater</code> Greater than <code>{\"left\": \"close\", \"operation\": \"greater\", \"right\": 100}</code> <code>less</code> Less than <code>{\"left\": \"close\", \"operation\": \"less\", \"right\": 50}</code> <code>egreater</code> Equal or greater <code>{\"left\": \"volume\", \"operation\": \"egreater\", \"right\": 1e6}</code> <code>eless</code> Equal or less <code>{\"left\": \"pe\", \"operation\": \"eless\", \"right\": 20}</code> <code>equal</code> Equal to <code>{\"left\": \"change\", \"operation\": \"equal\", \"right\": 0}</code> <code>nequal</code> Not equal <code>{\"left\": \"change\", \"operation\": \"nequal\", \"right\": 0}</code> <code>in_range</code> Within range <code>{\"left\": \"close\", \"operation\": \"in_range\", \"right\": [50, 200]}</code> <code>not_in_range</code> Outside range <code>{\"left\": \"close\", \"operation\": \"not_in_range\", \"right\": [10, 50]}</code> <code>above</code> Above value <code>{\"left\": \"close\", \"operation\": \"above\", \"right\": 150}</code> <code>below</code> Below value <code>{\"left\": \"close\", \"operation\": \"below\", \"right\": 50}</code> <code>crosses</code> Crosses value <code>{\"left\": \"close\", \"operation\": \"crosses\", \"right\": 100}</code> <code>crosses_above</code> Crosses above <code>{\"left\": \"close\", \"operation\": \"crosses_above\", \"right\": 200}</code> <code>crosses_below</code> Crosses below <code>{\"left\": \"close\", \"operation\": \"crosses_below\", \"right\": 50}</code> <code>has</code> Contains value <code>{\"left\": \"name\", \"operation\": \"has\", \"right\": \"Apple\"}</code> <code>has_none_of</code> Contains none of <code>{\"left\": \"name\", \"operation\": \"has_none_of\", \"right\": [\"Bank\"]}</code>"},{"location":"scrapers/screener/#default-fields-by-market","title":"Default Fields by Market","text":"<p>Stock markets (america, uk, etc.): <code>name</code>, <code>close</code>, <code>change</code>, <code>change_abs</code>, <code>volume</code>, <code>Recommend.All</code>, <code>market_cap_basic</code>, <code>price_earnings_ttm</code>, <code>earnings_per_share_basic_ttm</code></p> <p>Crypto: <code>name</code>, <code>close</code>, <code>change</code>, <code>change_abs</code>, <code>volume</code>, <code>market_cap_calc</code>, <code>Recommend.All</code></p> <p>Forex: <code>name</code>, <code>close</code>, <code>change</code>, <code>change_abs</code>, <code>Recommend.All</code></p>"},{"location":"scrapers/screener/#examples","title":"Examples","text":""},{"location":"scrapers/screener/#crypto-screening","title":"Crypto Screening","text":"<pre><code>result = screener.get_screener(\n    market=\"crypto\",\n    filters=[{\"left\": \"market_cap_calc\", \"operation\": \"greater\", \"right\": 1e9}],\n    fields=[\"name\", \"close\", \"market_cap_calc\", \"change\"],\n    limit=50,\n)\n</code></pre>"},{"location":"scrapers/screener/#range-filtering","title":"Range Filtering","text":"<pre><code>result = screener.get_screener(\n    market=\"america\",\n    filters=[{\"left\": \"close\", \"operation\": \"in_range\", \"right\": [50, 200]}],\n    sort_by=\"close\",\n    sort_order=\"asc\",\n)\n</code></pre>"},{"location":"scrapers/screener/#export-to-csv","title":"Export to CSV","text":"<pre><code>screener = Screener(export_result=True, export_type=\"csv\")\nresult = screener.get_screener(\n    market=\"america\",\n    fields=[\"name\", \"close\", \"volume\", \"market_cap_basic\"],\n    limit=30,\n)\n# File saved automatically\n</code></pre>"},{"location":"scrapers/screener/#migration-from-old-api","title":"Migration from Old API","text":"Old (<code>tradingview_scraper</code>) New (<code>tv_scraper</code>) <code>from tradingview_scraper.symbols.screener import Screener</code> <code>from tv_scraper.scrapers.screening import Screener</code> <code>screener.get_data(columns=[...])</code> <code>screener.get_screener(fields=[...])</code> Raises <code>ValueError</code> on invalid market Returns error response envelope <code>result[\"totalCount\"]</code> <code>result[\"metadata\"][\"total_available\"]</code> <code>result[\"total\"]</code> <code>result[\"metadata\"][\"total\"]</code> <code>result[\"status\"] == \"failed\"</code> Same, but envelope always has all 4 keys"},{"location":"scrapers/symbol_markets/","title":"Symbol Markets","text":"<p>Find all markets and exchanges where a symbol is traded.</p>"},{"location":"scrapers/symbol_markets/#quick-start","title":"Quick Start","text":"<pre><code>from tv_scraper.scrapers.screening import SymbolMarkets\n\nsm = SymbolMarkets()\nresult = sm.get_symbol_markets(symbol=\"AAPL\")\n\nfor item in result[\"data\"]:\n    print(item[\"symbol\"], item[\"exchange\"], item[\"close\"])\n</code></pre>"},{"location":"scrapers/symbol_markets/#api-reference","title":"API Reference","text":""},{"location":"scrapers/symbol_markets/#symbolmarketsexport_resultfalse-export_typejson-timeout10","title":"<code>SymbolMarkets(export_result=False, export_type=\"json\", timeout=10)</code>","text":"Parameter Type Default Description <code>export_result</code> <code>bool</code> <code>False</code> Export results to file <code>export_type</code> <code>str</code> <code>\"json\"</code> Export format: <code>\"json\"</code> / <code>\"csv\"</code> <code>timeout</code> <code>int</code> <code>10</code> HTTP request timeout (seconds)"},{"location":"scrapers/symbol_markets/#scrapesymbol-fieldsnone-scannerglobal-limit150","title":"<code>scrape(symbol, fields=None, scanner=\"global\", limit=150)</code>","text":"Parameter Type Default Description <code>symbol</code> <code>str</code> (required) Symbol to search for (e.g. <code>\"AAPL\"</code>) <code>fields</code> <code>list[str]|None</code> <code>DEFAULT_FIELDS</code> Columns to retrieve <code>scanner</code> <code>str</code> <code>\"global\"</code> Scanner region <code>limit</code> <code>int</code> <code>150</code> Maximum number of results <p>Supported scanners: <code>global</code>, <code>america</code>, <code>crypto</code>, <code>forex</code>, <code>cfd</code></p> <p>Default fields: <code>name</code>, <code>close</code>, <code>change</code>, <code>change_abs</code>, <code>volume</code>, <code>exchange</code>, <code>type</code>, <code>description</code>, <code>currency</code>, <code>market_cap_basic</code></p>"},{"location":"scrapers/symbol_markets/#response-format","title":"Response Format","text":"<pre><code>{\n    \"status\": \"success\",        # or \"failed\"\n    \"data\": [                   # list of dicts (None on error)\n        {\n            \"symbol\": \"NASDAQ:AAPL\",\n            \"name\": \"AAPL\",\n            \"close\": 150.25,\n            \"exchange\": \"NASDAQ\",\n            ...\n        }\n    ],\n    \"metadata\": {\n        \"scanner\": \"global\",\n        \"total\": 5,\n        \"total_available\": 5,\n    },\n    \"error\": None               # error message string on failure\n}\n</code></pre>"},{"location":"scrapers/symbol_markets/#examples","title":"Examples","text":""},{"location":"scrapers/symbol_markets/#find-all-exchanges-for-a-symbol","title":"Find all exchanges for a symbol","text":"<pre><code>sm = SymbolMarkets()\nresult = sm.get_symbol_markets(symbol=\"AAPL\")\n\nprint(f\"AAPL is traded on {result['metadata']['total']} markets\")\nfor item in result[\"data\"]:\n    print(f\"  {item['symbol']} \u2014 {item['exchange']}\")\n</code></pre>"},{"location":"scrapers/symbol_markets/#search-crypto-markets-only","title":"Search crypto markets only","text":"<pre><code>result = sm.get_symbol_markets(symbol=\"BTCUSD\", scanner=\"crypto\", limit=50)\n</code></pre>"},{"location":"scrapers/symbol_markets/#custom-fields","title":"Custom fields","text":"<pre><code>result = sm.get_symbol_markets(\n    symbol=\"TSLA\",\n    fields=[\"name\", \"close\", \"volume\", \"exchange\"],\n    scanner=\"america\",\n)\n</code></pre>"},{"location":"scrapers/symbol_markets/#export-results","title":"Export results","text":"<pre><code>sm = SymbolMarkets(export_result=True, export_type=\"csv\")\nresult = sm.get_symbol_markets(symbol=\"AAPL\")\n# File saved to export/ directory\n</code></pre>"},{"location":"scrapers/symbol_markets/#migration-from-tradingview_scraper","title":"Migration from <code>tradingview_scraper</code>","text":"Old (<code>tradingview_scraper</code>) New (<code>tv_scraper</code>) <code>from tradingview_scraper.symbols.symbol_markets import SymbolMarkets</code> <code>from tv_scraper.scrapers.screening import SymbolMarkets</code> <code>scrape(symbol, columns=...)</code> <code>scrape(symbol, fields=...)</code> <code>scanner='global'</code> (same) <code>scanner=\"global\"</code> (same) Returns <code>{\"status\", \"data\", \"total\", \"totalCount\"}</code> Returns <code>{\"status\", \"data\", \"metadata\", \"error\"}</code> <code>SCANNER_ENDPOINTS</code> dict Uses <code>SCANNER_URL</code> constant + <code>SUPPORTED_SCANNERS</code> set <code>DEFAULT_COLUMNS</code> <code>DEFAULT_FIELDS</code>"},{"location":"scrapers/technicals/","title":"Technicals (Technical Indicators)","text":""},{"location":"scrapers/technicals/#overview","title":"Overview","text":"<p>Fetch technical analysis indicator values (RSI, MACD, EMA, Stochastic, etc.) for any symbol on any supported exchange via the TradingView scanner API.</p>"},{"location":"scrapers/technicals/#import","title":"Import","text":"<pre><code>from tv_scraper.scrapers.market_data import Technicals\n</code></pre>"},{"location":"scrapers/technicals/#constructor","title":"Constructor","text":"<pre><code>Technicals(export_result: bool = False, export_type: str = \"json\", timeout: int = 10)\n</code></pre> Parameter Type Default Description <code>export_result</code> <code>bool</code> <code>False</code> Whether to export results to file. <code>export_type</code> <code>str</code> <code>\"json\"</code> Export format: <code>\"json\"</code> or <code>\"csv\"</code>. <code>timeout</code> <code>int</code> <code>10</code> HTTP request timeout in seconds."},{"location":"scrapers/technicals/#get_technicals-method","title":"<code>get_technicals()</code> Method","text":"<pre><code>get_technicals(\n    exchange: str = \"BITSTAMP\",\n    symbol: str = \"BTCUSD\",\n    timeframe: str = \"1d\",\n    technical_indicators: Optional[List[str]] = None,\n    all_indicators: bool = False,\n    fields: Optional[List[str]] = None,\n) -&gt; Dict[str, Any]\n</code></pre> Parameter Type Default Description <code>exchange</code> <code>str</code> <code>\"BITSTAMP\"</code> Valid exchange name (e.g. <code>\"BINANCE\"</code>, <code>\"COINBASE\"</code>). <code>symbol</code> <code>str</code> <code>\"BTCUSD\"</code> Trading symbol. <code>timeframe</code> <code>str</code> <code>\"1d\"</code> Timeframe: <code>\"1m\"</code>, <code>\"5m\"</code>, <code>\"1h\"</code>, <code>\"4h\"</code>, <code>\"1d\"</code>, <code>\"1w\"</code>, etc. <code>technical_indicators</code> <code>Optional[List[str]]</code> <code>None</code> Specific indicator names to fetch (e.g. <code>[\"RSI\", \"MACD.macd\"]</code>). <code>all_indicators</code> <code>bool</code> <code>False</code> If <code>True</code>, fetches all known indicators. <code>fields</code> <code>Optional[List[str]]</code> <code>None</code> Filter output to include only these indicator names."},{"location":"scrapers/technicals/#constraints","title":"Constraints","text":"<ul> <li>Exchange must be a valid exchange from Supported Exchanges.</li> <li>Timeframe must be one of the supported timeframes.</li> <li>Indicators must be valid indicator names. Use <code>all_indicators=True</code> to fetch all.</li> <li>If <code>all_indicators</code> is <code>False</code>, <code>technical_indicators</code> must be provided.</li> </ul>"},{"location":"scrapers/technicals/#response-format","title":"Response Format","text":"<p>All responses follow the standard envelope format:</p>"},{"location":"scrapers/technicals/#success","title":"Success","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"RSI\": 54.21,\n    \"Recommend.All\": 0.15,\n    \"CCI20\": 112.45,\n    \"Stoch.K\": 78.50,\n    \"EMA20\": 42150.25,\n    \"MACD.macd\": 150.12,\n    \"MACD.signal\": 120.45\n    ...\n    (other indicators)\n  },\n  \"metadata\": {\n    \"exchange\": \"BINANCE\",\n    \"symbol\": \"BTCUSD\",\n    \"timeframe\": \"1d\"\n  },\n  \"error\": null\n}\n</code></pre>"},{"location":"scrapers/technicals/#error","title":"Error","text":"<pre><code>{\n    \"status\": \"failed\",\n    \"data\": None,\n    \"metadata\": {},\n    \"error\": \"Invalid exchange: 'INVALID'. Did you mean one of: ...\"\n}\n</code></pre> <p>Errors are never raised \u2014 they are always returned as error responses.</p>"},{"location":"scrapers/technicals/#usage-examples","title":"Usage Examples","text":""},{"location":"scrapers/technicals/#specific-indicators","title":"Specific Indicators","text":"<pre><code>from tv_scraper.scrapers.market_data import Technicals\n\nscraper = Technicals()\ndata = scraper.get_technicals(\n    exchange=\"BINANCE\",\n    symbol=\"BTCUSDT\",\n    timeframe=\"4h\",\n    technical_indicators=[\"RSI\", \"EMA50\", \"MACD.macd\"],\n)\nprint(data[\"data\"])\n# {\"RSI\": 58.4, \"EMA50\": 42000.0, \"MACD.macd\": 150.5}\n</code></pre>"},{"location":"scrapers/technicals/#all-indicators","title":"All Indicators","text":"<pre><code>full = scraper.get_technicals(\n    exchange=\"COINBASE\",\n    symbol=\"ETHUSD\",\n    timeframe=\"1d\",\n    all_indicators=True,\n)\nprint(len(full[\"data\"]))  # All available indicators\n</code></pre>"},{"location":"scrapers/technicals/#with-export","title":"With Export","text":"<pre><code>scraper = Technicals(export_result=True, export_type=\"csv\")\ndata = scraper.get_technicals(\n    exchange=\"BINANCE\",\n    symbol=\"BTCUSD\",\n    technical_indicators=[\"RSI\", \"Stoch.K\"],\n)\n# Results are saved to export/ directory automatically\n</code></pre>"},{"location":"scrapers/technicals/#field-filtering","title":"Field Filtering","text":"<pre><code>data = scraper.get_technicals(\n    exchange=\"BINANCE\",\n    symbol=\"BTCUSD\",\n    all_indicators=True,\n    fields=[\"RSI\", \"EMA50\"],  # Only include these in output\n)\n</code></pre>"},{"location":"scrapers/technicals/#migration-from-old-api","title":"Migration from Old API","text":"Old (<code>tradingview_scraper</code>) New (<code>tv_scraper</code>) <code>from tradingview_scraper import Indicators</code> <code>from tv_scraper.scrapers.market_data import Technicals</code> <code>Indicators()</code> <code>Technicals()</code> <code>scrape(indicators=[\"RSI\"])</code> <code>get_technicals(technical_indicators=[\"RSI\"])</code> <code>scrape(allIndicators=True)</code> <code>get_technicals(all_indicators=True)</code> Raises <code>ValueError</code> on invalid input Returns <code>{\"status\": \"failed\", \"error\": \"...\"}</code> Response: <code>{\"status\": \"success\", \"data\": {...}}</code> Response: <code>{\"status\": \"success\", \"data\": {...}, \"metadata\": {...}, \"error\": None}</code>"},{"location":"scrapers/technicals/#key-differences","title":"Key Differences","text":"<ol> <li>Class name: <code>Indicators</code> \u2192 <code>Technicals</code></li> <li>Parameter naming: <code>allIndicators</code> \u2192 <code>all_indicators</code>, <code>indicators</code> \u2192 <code>technical_indicators</code> (snake_case)</li> <li>Error handling: No more <code>ValueError</code> raises \u2014 all errors are returned in the response envelope</li> <li>Response format: Standardized 4-key envelope (<code>status</code>, <code>data</code>, <code>metadata</code>, <code>error</code>)</li> <li>New features: <code>fields</code> parameter for output filtering, <code>timeout</code> parameter, <code>metadata</code> in response</li> </ol>"},{"location":"streaming/","title":"Streaming Overview","text":"<p>The <code>tv_scraper.streaming</code> package provides real-time and historical market data via TradingView's WebSocket API. There are two main entry points:</p> Class Use case <code>Streamer</code> Fetch OHLCV candles, indicators, and continuous price updates <code>RealTimeData</code> Simple generators for raw OHLCV and watchlist packets"},{"location":"streaming/#performance-optimizations","title":"Performance Optimizations","text":"<p>As of version 1.0.2, the streaming module includes WebSocket optimizations for low-latency real-time data:</p> <ul> <li>TCP_NODELAY: Socket option enabled to disable Nagle's algorithm, reducing packet transmission latency</li> <li>Dual Session Subscription: Real-time price streaming subscribes to both quote and chart sessions</li> <li>Multi-Message Processing: Handles QSD (quote session data) and DU (data update) messages for maximum update frequency</li> </ul> <p>These optimizations deliver approximately 1 update every 3-4 seconds for active symbols, matching browser performance.</p>"},{"location":"streaming/#architecture","title":"Architecture","text":"<pre><code>tv_scraper/streaming/\n\u251c\u2500\u2500 __init__.py          # Package exports\n\u251c\u2500\u2500 stream_handler.py    # Low-level WebSocket protocol handler\n\u251c\u2500\u2500 streamer.py          # Streamer class (candles + indicators + realtime)\n\u251c\u2500\u2500 price.py             # RealTimeData class (simple OHLCV + watchlist)\n\u2514\u2500\u2500 utils.py             # Symbol validation, indicator metadata fetching\n</code></pre>"},{"location":"streaming/#streamhandler-low-level","title":"StreamHandler (Low-level)","text":"<p><code>StreamHandler</code> manages the raw WebSocket connection:</p> <ul> <li>Connects to <code>wss://data.tradingview.com/socket.io/websocket</code></li> <li>Generates session identifiers (<code>qs_*</code> for quotes, <code>cs_*</code> for charts)</li> <li>Frames messages with TradingView's <code>~m~{length}~m~{payload}</code> protocol</li> <li>Initialises sessions (auth, locale, chart/quote creation, field setup)</li> <li>Applies TCP_NODELAY socket option for low-latency streaming</li> </ul> <p>You rarely need to use <code>StreamHandler</code> directly \u2014 <code>Streamer</code> and <code>RealTimeData</code> compose it internally.</p>"},{"location":"streaming/#response-format","title":"Response Format","text":"<p>All <code>Streamer</code> methods return the standard response envelope:</p> <pre><code>{\n    \"status\": \"success\" | \"failed\",\n    \"data\": { ... },\n    \"metadata\": { \"exchange\": \"...\", \"symbol\": \"...\", ... },\n    \"error\": None | \"error message\"\n}\n</code></pre> <p>Errors are returned (not raised) from public methods.</p>"},{"location":"streaming/#quick-start","title":"Quick Start","text":"<pre><code>from tv_scraper.streaming import Streamer\n\n# Fetch 10 candles\ns = Streamer()\nresult = s.get_candles(exchange=\"BINANCE\", symbol=\"BTCUSDT\", timeframe=\"1h\")\nprint(result[\"data\"][\"ohlcv\"])\n\n# Continuous realtime price updates\nfor tick in s.stream_realtime_price(exchange=\"BINANCE\", symbol=\"BTCUSDT\"):\n    print(tick[\"price\"], tick[\"change_percent\"])\n</code></pre>"},{"location":"streaming/#migration-from-tradingview_scraper","title":"Migration from <code>tradingview_scraper</code>","text":"Old API New API <code>Streamer().stream(exchange, symbol, ...)</code> <code>Streamer().get_candles(exchange, symbol, ...)</code> Combined <code>exchange:symbol</code> params Separate <code>exchange</code> and <code>symbol</code> args Raises exceptions on errors Returns <code>{\"status\": \"failed\", ...}</code> <code>from tradingview_scraper.symbols.stream import Streamer</code> <code>from tv_scraper.streaming import Streamer</code>"},{"location":"streaming/realtime-price/","title":"RealTimeData API","text":"<p>The <code>RealTimeData</code> class provides simple generators for raw OHLCV data and multi-symbol watchlist streaming.</p> <p>Tip: For normalised price updates, use <code>Streamer.stream_realtime_price()</code> instead.</p>"},{"location":"streaming/realtime-price/#performance-optimizations","title":"Performance Optimizations","text":"<p>As of version 1.0.2, the WebSocket connection includes performance optimizations:</p> <ul> <li>TCP_NODELAY: Disables Nagle's algorithm for lower latency data delivery</li> <li>Dual Session Subscription: Subscribes to both quote and chart sessions for faster updates</li> <li>Enhanced Message Handling: Processes both QSD (quote) and DU (data update) messages</li> </ul> <p>These optimizations provide update frequencies of ~1 update every 3-4 seconds, matching browser performance.</p>"},{"location":"streaming/realtime-price/#constructor","title":"Constructor","text":"<pre><code>from tv_scraper.streaming import RealTimeData\n\nrt = RealTimeData()\n</code></pre> <p>No arguments required. Creates a WebSocket connection using the screener endpoint.</p>"},{"location":"streaming/realtime-price/#methods","title":"Methods","text":""},{"location":"streaming/realtime-price/#get_ohlcv","title":"<code>get_ohlcv()</code>","text":"<p>Stream OHLCV packets for a single symbol.</p> <pre><code>gen = rt.get_ohlcv(exchange=\"BINANCE\", symbol=\"BTCUSDT\")\n\nfor packet in gen:\n    print(packet)\n</code></pre> <p>Args:</p> Parameter Type Description <code>exchange</code> <code>str</code> Exchange name (e.g. <code>\"BINANCE\"</code>) <code>symbol</code> <code>str</code> Symbol name (e.g. <code>\"BTCUSDT\"</code>) <p>Returns: A generator yielding raw parsed JSON packets from the WebSocket feed.</p>"},{"location":"streaming/realtime-price/#get_latest_trade_info","title":"<code>get_latest_trade_info()</code>","text":"<p>Stream summary information for multiple symbols simultaneously.</p> <pre><code>gen = rt.get_latest_trade_info(\n    exchanges=[\"BINANCE\", \"NASDAQ\"],\n    symbols=[\"BTCUSDT\", \"AAPL\"],\n)\n\nfor packet in gen:\n    print(packet)\n</code></pre> <p>Args:</p> Parameter Type Description <code>exchanges</code> <code>list[str]</code> List of exchange names <code>symbols</code> <code>list[str]</code> List of symbol names (same order as exchanges) <p>Returns: A generator yielding raw parsed JSON packets.</p>"},{"location":"streaming/realtime-price/#migration-from-tradingview_scraper","title":"Migration from <code>tradingview_scraper</code>","text":"Old API New API <code>RealTimeData().get_ohlcv(\"BINANCE:BTCUSDT\")</code> <code>RealTimeData().get_ohlcv(exchange=\"BINANCE\", symbol=\"BTCUSDT\")</code> <code>get_latest_trade_info([\"BINANCE:BTCUSDT\", ...])</code> <code>get_latest_trade_info(exchanges=[...], symbols=[...])</code> Combined <code>EXCHANGE:SYMBOL</code> strings Separate <code>exchange</code> and <code>symbol</code> parameters"},{"location":"streaming/realtime-price/#heartbeat-handling","title":"Heartbeat Handling","text":"<p>TradingView sends periodic heartbeat messages (<code>~h~{number}</code>). These are automatically echoed back by <code>RealTimeData</code> and never yielded to your code.</p>"},{"location":"streaming/streamer/","title":"Streamer API","text":"<p>The <code>Streamer</code> class provides OHLCV candle retrieval, indicator data, and continuous realtime price streaming via TradingView's WebSocket API.</p>"},{"location":"streaming/streamer/#performance-optimizations-v102","title":"Performance Optimizations (v1.0.2+)","text":"<p>The WebSocket connection includes several optimizations for low-latency streaming:</p> <ul> <li>TCP_NODELAY Socket Option: Disables Nagle's algorithm for immediate packet transmission</li> <li>Dual Session Subscription: Subscribes to both quote session (QSD) and chart session (DU) for maximum update frequency</li> <li>Enhanced Message Processing: Handles both QSD (quote data) and DU (chart data updates) message types</li> </ul> <p>These optimizations deliver update frequencies of approximately 1 update every 3-4 seconds, matching browser performance for real-time price streaming.</p>"},{"location":"streaming/streamer/#constructor","title":"Constructor","text":"<pre><code>from tv_scraper.streaming import Streamer\n\ns = Streamer(\n    export_result=False,       # Save results to file\n    export_type=\"json\",        # \"json\" or \"csv\"\n    websocket_jwt_token=\"unauthorized_user_token\",  # JWT for indicator access\n)\n</code></pre>"},{"location":"streaming/streamer/#methods","title":"Methods","text":""},{"location":"streaming/streamer/#get_available_indicators","title":"<code>get_available_indicators()</code>","text":"<p>Fetch the list of available standard built-in indicators.</p> <p>Note: This is specifically for use with candle and indicator streaming. Use these IDs and versions with <code>get_candles()</code>.</p> <pre><code>indicators = Streamer.get_available_indicators()\n# Returns: [{\"name\": \"Relative Strength Index\", \"id\": \"STD;RSI\", \"version\": \"45.0\"}, ...]\n</code></pre>"},{"location":"streaming/streamer/#get_candles","title":"<code>get_candles()</code>","text":"<p>Fetch historical OHLCV candles with optional technical indicators.</p> <pre><code>result = s.get_candles(\n    exchange=\"BINANCE\",\n    symbol=\"BTCUSDT\",\n    timeframe=\"1h\",         # 1m, 5m, 15m, 30m, 1h, 2h, 4h, 1d, 1w, 1M\n    numb_candles=10,\n    indicators=[(\"STD;RSI\", \"37.0\")],  # Optional\n)\n</code></pre> <p>Response:</p> <pre><code>{\n    \"status\": \"success\",\n    \"data\": {\n        \"ohlcv\": [\n            {\n                \"index\": 0,\n                \"timestamp\": 1700000000,\n                \"open\": 42000.0,\n                \"high\": 42100.0,\n                \"low\": 41950.0,\n                \"close\": 42050.2,\n                \"volume\": 125.5\n            },\n            ...\n        ],\n        \"indicators\": {\n            \"STD;RSI\": [\n                {\"index\": 0, \"timestamp\": 1700000000, \"0\": 55.5, \"1\": 60.0},\n                ...\n            ]\n        }\n    },\n    \"metadata\": {\n        \"exchange\": \"BINANCE\",\n        \"symbol\": \"BTCUSDT\",\n        \"timeframe\": \"1h\",\n        \"numb_candles\": 10\n    },\n    \"error\": null\n}\n</code></pre>"},{"location":"streaming/streamer/#stream_realtime_price","title":"<code>stream_realtime_price()</code>","text":"<p>Persistent generator yielding normalized quote updates including bid, ask, and daily statistics.</p> <pre><code>for tick in s.stream_realtime_price(exchange=\"BINANCE\", symbol=\"BTCUSDT\"):\n    print(f\"Price: {tick['price']}, Bid: {tick['bid']}, Ask: {tick['ask']}, Volume: {tick['volume']}\")\n</code></pre> <p>Yielded dict:</p> <pre><code>{\n    \"exchange\": \"BINANCE\",\n    \"symbol\": \"BTCUSDT\",\n    \"price\": 42000.0,\n    \"volume\": 12345.6,\n    \"change\": 150.0,\n    \"change_percent\": 0.36,\n    \"high\": 42150.0,\n    \"low\": 41800.0,\n    \"open\": 41850.0,\n    \"prev_close\": 41845.0,\n    \"bid\": 41998.0,\n    \"ask\": 42002.0\n}\n</code></pre>"},{"location":"streaming/streamer/#timeframe-mapping","title":"Timeframe Mapping","text":"Input TradingView value <code>1m</code> <code>1</code> <code>5m</code> <code>5</code> <code>15m</code> <code>15</code> <code>30m</code> <code>30</code> <code>1h</code> <code>60</code> <code>2h</code> <code>120</code> <code>4h</code> <code>240</code> <code>1d</code> <code>1D</code> <code>1w</code> <code>1W</code> <code>1M</code> <code>1M</code>"},{"location":"streaming/streamer/#export","title":"Export","text":"<p>When <code>export_result=True</code>, OHLCV and indicator data are saved to the <code>export/</code> directory with timestamped filenames:</p> <pre><code>s = Streamer(export_result=True, export_type=\"csv\")\ns.get_candles(exchange=\"NASDAQ\", symbol=\"AAPL\")\n# Creates: export/ohlcv_aapl_20260215-120000.csv\n</code></pre>"},{"location":"streaming/streamer/#error-handling","title":"Error Handling","text":"<p>Public methods never raise exceptions. Errors are returned as:</p> <pre><code>{\n    \"status\": \"failed\",\n    \"data\": null,\n    \"metadata\": {\"exchange\": \"BAD\", \"symbol\": \"XXX\"},\n    \"error\": \"Invalid exchange:symbol 'BAD:XXX'\"\n}\n</code></pre>"}]}